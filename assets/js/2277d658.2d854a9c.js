"use strict";(globalThis.webpackChunkdocs_sikt_no=globalThis.webpackChunkdocs_sikt_no||[]).push([[1356],{8453(e,n,i){i.d(n,{R:()=>a,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}},8555(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"datadeling/erfaringer/uib/uib-iga-naming","title":"UiB sine f\xf8ringer for navngivning","description":"I sammenheng med prosjekt UH:IAM laget UiB i 2020 retningslinjer for navngivning i IntArk. Dette fordi at Datadelingsprosjektet ikke var kommet langt nok.\\n\\n\\nDette ble levert til leverand\xf8ren av IGA-l\xf8sningen, s\xe5 deres utviklere kunne forholde seg til API manager og meldingsk\xf8.\\n\\n\\n[Originalt dokument er tilgjengelig i UiBs gitlab](https://git.app.uib.no/it-bott-integrasjoner/intark/-/blob/master/doc/naming.md).","source":"@site/docs/datadeling/erfaringer/uib/uib-iga-naming.md","sourceDirName":"datadeling/erfaringer/uib","slug":"/datadeling/erfaringer/uib/uib-iga-naming","permalink":"/docs/datadeling/erfaringer/uib/uib-iga-naming","draft":false,"unlisted":false,"editUrl":"https://github.com/sikt-no/docs/tree/master/docs/datadeling/erfaringer/uib/uib-iga-naming.md","tags":[],"version":"current","lastUpdatedAt":1770383031000,"frontMatter":{"description":"I sammenheng med prosjekt UH:IAM laget UiB i 2020 retningslinjer for navngivning i IntArk. Dette fordi at Datadelingsprosjektet ikke var kommet langt nok.\\n\\n\\nDette ble levert til leverand\xf8ren av IGA-l\xf8sningen, s\xe5 deres utviklere kunne forholde seg til API manager og meldingsk\xf8.\\n\\n\\n[Originalt dokument er tilgjengelig i UiBs gitlab](https://git.app.uib.no/it-bott-integrasjoner/intark/-/blob/master/doc/naming.md).","title":"UiB sine f\xf8ringer for navngivning"},"sidebar":"datadeling","previous":{"title":"Erfaringer fra bruk av IntArk","permalink":"/docs/datadeling/erfaringer/"},"next":{"title":"Teknisk beskrivelse av UiOs integrasjonsarkitektur","permalink":"/docs/datadeling/erfaringer/uio/om-uio-arkitekturmodell"}}');var s=i(4848),r=i(8453);const a={description:"I sammenheng med prosjekt UH:IAM laget UiB i 2020 retningslinjer for navngivning i IntArk. Dette fordi at Datadelingsprosjektet ikke var kommet langt nok.\n\n\nDette ble levert til leverand\xf8ren av IGA-l\xf8sningen, s\xe5 deres utviklere kunne forholde seg til API manager og meldingsk\xf8.\n\n\n[Originalt dokument er tilgjengelig i UiBs gitlab](https://git.app.uib.no/it-bott-integrasjoner/intark/-/blob/master/doc/naming.md).",title:"UiB sine f\xf8ringer for navngivning"},l="UiB sine f\xf8ringer for navngivning",o={},d=[{value:"What is this about",id:"what-is-this-about",level:2},{value:"What needs to be named related to the IntArk components",id:"what-needs-to-be-named-related-to-the-intark-components",level:2},{value:"Meta variables",id:"meta-variables",level:2},{value:"Domain names",id:"domain-names",level:2},{value:"Gravitee",id:"gravitee",level:2},{value:"context paths",id:"context-paths",level:3},{value:"Rabbit MQ",id:"rabbit-mq",level:2},{value:"users",id:"users",level:3},{value:"vhost",id:"vhost",level:3},{value:"exchanges",id:"exchanges",level:3},{value:"queues",id:"queues",level:3},{value:"topics",id:"topics",level:3}];function h(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"uib-sine-f\xf8ringer-for-navngivning",children:"UiB sine f\xf8ringer for navngivning"})}),"\n",(0,s.jsxs)(n.p,{children:["I sammenheng med prosjekt UH",":IAM"," laget UiB i 2020 retningslinjer for navngivning i IntArk. Dette fordi at Datadelingsprosjektet ikke var kommet langt nok."]}),"\n",(0,s.jsx)(n.p,{children:"Dette ble levert til leverand\xf8ren av IGA-l\xf8sningen, s\xe5 deres utviklere kunne forholde seg til API manager og meldingsk\xf8."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://git.app.uib.no/it-bott-integrasjoner/intark/-/blob/master/doc/naming.md",children:"Originalt dokument er tilgjengelig i UiBs gitlab"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"This is currently just capturing an outline of what this document will eventually be. The purpose is to describe a sector standard for naming stuff related to the intark components."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-this-about",children:"What is this about"}),"\n",(0,s.jsx)(n.p,{children:"Main use case: APIs that expose data from a system. Integrations."}),"\n",(0,s.jsx)(n.h2,{id:"what-needs-to-be-named-related-to-the-intark-components",children:"What needs to be named related to the IntArk components"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"domain name for mq and gw servers"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://api.%7Bowner%7D.no",children:"https://api.{owner}.no"})," as central entry point for all things API. Might just redirect to the API-gateway portal."]}),"\n",(0,s.jsx)(n.li,{children:"api context paths"}),"\n",(0,s.jsx)(n.li,{children:"api names"}),"\n",(0,s.jsx)(n.li,{children:"api export files"}),"\n",(0,s.jsx)(n.li,{children:"plan names"}),"\n",(0,s.jsx)(n.li,{children:"application names"}),"\n",(0,s.jsx)(n.li,{children:"api paths"}),"\n",(0,s.jsx)(n.li,{children:"gw users (feide)"}),"\n",(0,s.jsx)(n.li,{children:"gw groups"}),"\n",(0,s.jsx)(n.li,{children:"gw roles"}),"\n",(0,s.jsx)(n.li,{children:"mq topics"}),"\n",(0,s.jsx)(n.li,{children:"(mq message types)"}),"\n",(0,s.jsx)(n.li,{children:"mq virtual hosts"}),"\n",(0,s.jsx)(n.li,{children:"mq exchanges"}),"\n",(0,s.jsx)(n.li,{children:"mq queues"}),"\n",(0,s.jsx)(n.li,{children:"mq users"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"meta-variables",children:"Meta variables"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'{owner} Data owner (behandlingsansvarlig/controller/system tenant) legal institution, typically represented by the domainname without ".no", eg "uib", "uio", "uit", "ntnu", "oslomet", "himolde".'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'{svc} Service name; example "iga", "mail", "dfo"'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'{sys} System or application name; example "fs", "tp", "ri", "sap"'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"{subsys} Sub system"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'{owner-div} System owner (behandlingsansvarlig avdeling); examples "sa", "it". Match up with acronym or shortname in orgreg.'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'{sysop} System operator (databehandler/Processor). Example "it", "idauto", "uninett", "unit", "dfo"'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'{api-name} An actual API identifier name or just the string "api" \u2014 name in context of a system. Example "scim", "fsapi", \'fsws\''}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'{api-vers} api-version or "v1" \u2014 generation of the named api'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'{env} system environment (examples "prod", "test", "dev"). This is also used if there are for instance multiple test environments in use. They may then be called "test2", "test3", "test_foo", "test_bar" or something.'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"{endpoint} # URL path; resource name in the case of REST"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"{type} # serve same function as content types in HTTP; identifies the format used for a message"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"{op} # CRUD without the R: 'create', 'update', 'delete'"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"domain-names",children:"Domain names"}),"\n",(0,s.jsx)(n.p,{children:"This documents the current practice in how the IntArk components (Gravitee/Rabbit MQ) is set up from USIT."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"api-{owner}.intark.uh-it.no"}),"\n",(0,s.jsx)(n.li,{children:"gw-{owner}.intark.uh-it.no"}),"\n",(0,s.jsx)(n.li,{children:"mq-{owner}.intark.uh-it.no"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"gravitee",children:"Gravitee"}),"\n",(0,s.jsx)(n.h3,{id:"context-paths",children:"context paths"}),"\n",(0,s.jsx)(n.p,{children:"The context paths must all be unique prefixes i Gravitee. This defines what is considered a single API in the Gallery as well."}),"\n",(0,s.jsx)(n.p,{children:"There are two approaches to be considered. Making separate APIs in the Gallery for new versions and new environments or having a single entrypoint that represents the API and use internal paths and plans to diffentiate. With the second approach we would drop the {api-vers} and {env} part at the end of these paths."}),"\n",(0,s.jsx)(n.p,{children:"We are showing the domain name in context just to document that the context paths are already qualified with the {owner}."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"//gw-{owner}.intark.uh-it.no/{sys}/{api-name}/{api-vers}"}),"\n",(0,s.jsx)(n.li,{children:"//gw-{owner}.intark.uh-it.no/{sys}/{api-name}/{env}"}),"\n",(0,s.jsx)(n.li,{children:"//gw-{owner}.intark.uh-it.no/{owner-div}/{sys}/{api-name}/{api-vers}"}),"\n",(0,s.jsx)(n.li,{children:"//gw-{owner}.intark.uh-it.no/{owner-div}/{sys}/{api-name}/{env}"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Could also use {svc} instead of {sys} in places."}),"\n",(0,s.jsx)(n.p,{children:'developers and other "personal" stuff'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"//gw-{owner}.intark.uh-it.no/u-{username}/..."}),"\n",(0,s.jsx)(n.li,{children:"//gw-{owner}.intark.uh-it.no/z{username}/..."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"virtual host mode (unclear if this will be supported by the USIT installation)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"//api.{owner}.no/{sys}/{api-name}/{env}"}),"\n",(0,s.jsx)(n.li,{children:"//{sys}.api.{owner}.no/{api-name}/{api-vers}"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"rabbit-mq",children:"Rabbit MQ"}),"\n",(0,s.jsx)(n.h3,{id:"users",children:"users"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"s-{sys} # when env=prod"}),"\n",(0,s.jsx)(n.li,{children:"s-{sys}-{env}"}),"\n",(0,s.jsx)(n.li,{children:"u-{username} # developer"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"vhost",children:"vhost"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"//mq-{owner}.intark.uh-it.no/s-{sys}"}),"\n",(0,s.jsx)(n.li,{children:"//mq-{owner}.intark.uh-it.no/s-{sys}-{env}"}),"\n",(0,s.jsx)(n.li,{children:"//mq-{owner}.intark.uh-it.no/{owner}-admin"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Note: We avoid '/' in vhost names as it has to be escaped in URLs as '%2F' and serves no real purpose in forming hierarchies."}),"\n",(0,s.jsx)(n.p,{children:"Developers can experiment by getting access to their own vhost:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"//mq-{owner}.intark.uh-it.no/u-{username}"}),"\n",(0,s.jsx)(n.li,{children:"//mq-{owner}.intark.uh-it.no/u-{username}-{sys}"}),"\n",(0,s.jsx)(n.li,{children:"//mq-{owner}.intark.uh-it.no/z{username}-{sys}"}),"\n",(0,s.jsx)(n.li,{children:"//mq-{owner}.intark.uh-it.no/z{username}-{sys}"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"exchanges",children:"exchanges"}),"\n",(0,s.jsx)(n.p,{children:"Messages are delivered to exchanges that live within the vhost space of the communicating system. The exchanges are named using this pattern:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ex_from_{sys}"}),"\n",(0,s.jsx)(n.li,{children:"ex_from_{sys}-{env}"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Where the {sys} part can be the owner system (for events generated) or some other system for events consumed. The {env}-part is dropped for production setup and when the environment is already established in the vhost name."}),"\n",(0,s.jsx)(n.h3,{id:"queues",children:"queues"}),"\n",(0,s.jsx)(n.p,{children:"The application is free to use any convention it sees fit. They have their own vhost to spoil."}),"\n",(0,s.jsx)(n.h3,{id:"topics",children:"topics"}),"\n",(0,s.jsx)(n.p,{children:"This just documents existing practice:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"no.{owner}.{sys}.{env}.{endpoint}.{op}"}),"\n",(0,s.jsx)(n.li,{children:"no.{owner}.{sys}.{type}.{endpoint}.{op}"}),"\n",(0,s.jsx)(n.li,{children:"{endpoint}"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"I would hope to drop the 'no' part. It's shows up becuase we then end up the reversed domain name; but it's confusing if we want to generalize this to domain names that might have more segments."})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);