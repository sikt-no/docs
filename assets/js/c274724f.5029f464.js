"use strict";(self.webpackChunkdocs_sikt_no=self.webpackChunkdocs_sikt_no||[]).push([[6547],{3905:(e,t,r)=>{r.d(t,{Zo:()=>k,kt:()=>g});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=n.createContext({}),p=function(e){var t=n.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},k=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,k=s(e,["components","mdxType","originalType","parentName"]),d=p(r),g=a,u=d["".concat(o,".").concat(g)]||d[g]||m[g]||i;return r?n.createElement(u,l(l({ref:t},k),{},{components:r})):n.createElement(u,l({ref:t},k))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,l=new Array(i);l[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var p=2;p<i;p++)l[p]=r[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},652:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=r(7462),a=(r(7294),r(3905));const i={description:"M\xe5 svare ut:\n\n\nHva m\xe5 Uninett gj\xf8re? Hva m\xe5 USIT gj\xf8re? Hva kan/m\xe5 institusjonene gj\xf8re?",title:"Prosessene for teknisk plattform"},l="Prosessene for teknisk plattform",s={unversionedId:"datadeling/teknisk-plattform/prosessene",id:"datadeling/teknisk-plattform/prosessene",title:"Prosessene for teknisk plattform",description:"M\xe5 svare ut:\n\n\nHva m\xe5 Uninett gj\xf8re? Hva m\xe5 USIT gj\xf8re? Hva kan/m\xe5 institusjonene gj\xf8re?",source:"@site/docs/datadeling/teknisk-plattform/prosessene.md",sourceDirName:"datadeling/teknisk-plattform",slug:"/datadeling/teknisk-plattform/prosessene",permalink:"/docs/datadeling/teknisk-plattform/prosessene",draft:!1,editUrl:"https://github.com/sikt-no/docs/tree/master/docs/datadeling/teknisk-plattform/prosessene.md",tags:[],version:"current",lastUpdatedAt:1677582314,formattedLastUpdatedAt:"Feb 28, 2023",frontMatter:{description:"M\xe5 svare ut:\n\n\nHva m\xe5 Uninett gj\xf8re? Hva m\xe5 USIT gj\xf8re? Hva kan/m\xe5 institusjonene gj\xf8re?",title:"Prosessene for teknisk plattform"},sidebar:"datadeling",previous:{title:"Infrastrukturen til IntArks tekniske plattform",permalink:"/docs/datadeling/teknisk-plattform/infrastruktur"},next:{title:"RabbitMQ",permalink:"/docs/datadeling/teknisk-plattform/rabbitmq"}},o={},p=[{value:"Prosessene",id:"prosessene",level:2},{value:"API manager",id:"api-manager",level:3},{value:"RabbitMQ",id:"rabbitmq",level:3}],k={toc:p};function m(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,n.Z)({},k,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"prosessene-for-teknisk-plattform"},"Prosessene for teknisk plattform"),(0,a.kt)("p",null,"M\xe5 svare ut:"),(0,a.kt)("p",null,"Hva m\xe5 Uninett gj\xf8re? Hva m\xe5 USIT gj\xf8re? Hva kan/m\xe5 institusjonene gj\xf8re?"),(0,a.kt)("p",null,"Teknisk plattform skal dekke prosessene beskrevet i referansearkitekturen for datadeling i UHF-sektoren:"),(0,a.kt)("p",null,(0,a.kt)("img",{src:r(6606).Z,width:"1209",height:"657"})),(0,a.kt)("p",null,"TODO:",(0,a.kt)("img",{src:r(3793).Z,width:"1159",height:"393"})),(0,a.kt)("h2",{id:"prosessene"},"Prosessene"),(0,a.kt)("p",null,"Use case: IAM-prosjektet skal sette opp integrasjon mellom FS og RI for HiMolde."),(0,a.kt)("h3",{id:"api-manager"},"API manager"),(0,a.kt)("p",null,"Sette opp FS API:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Dataeier m\xe5 sikre at det juridiske er p\xe5 plass. Uninett kan bist\xe5 med maler og r\xe5dgiving."),(0,a.kt)("li",{parentName:"ol"},"Registrere API",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"Studieadministrasjonen (tjenesteeier/datatilbyder/dataeier/dataforvalter) f\xe5r tilkoblingsinformasjon fra FS (Unit). Treng evt dialog om oppsett.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Generelt: Dataeier har dialog med leverand\xf8r av tjenesten, og f\xe5r tilkoblingsinformasjon fra tenesteleverand\xf8ren."),(0,a.kt)("li",{parentName:"ul"},"Kven: Dataeier ",(0,a.kt)("strong",{parentName:"li"},"b\xf8r")," gj\xf8re dette (kan delegeres internt), men USIT/Uninett kan bist\xe5 med det tekniske, s\xe5 lenge dataeier har dialog med FS (Unit) om \xe5 godkjenne at vi f\xe5r tilgang til passord etc."))),(0,a.kt)("li",{parentName:"ol"},"HiMolde sin Studieadm (dataeier) registrerer FS API i Gravitee.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Generelt: Dataeier konfigurerer og publiserer API-et i Gravitee."),(0,a.kt)("li",{parentName:"ul"},"Kven: Dataeier kan gj\xf8re det (kan delegeres internt), men USIT/Uninett kan gj\xf8re det p\xe5 vegne."),(0,a.kt)("li",{parentName:"ul"},"Kommentar: Vi \xf8nsker at planer settes opp likest mulig mellom institusjonene, for \xe5 sikre at integrasjoner trenger minst mulig tilpasninger. Homogenisering av planer for kjente API, slik som FS. Kan enten gj\xf8res ved bistand, eventuelt legge ut maler/templates for kjente API som institusjonen kan bruke, inkl. veileder."))))),(0,a.kt)("li",{parentName:"ol"},"Registrere datakonsument (application)",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"Tjenesteeier for RI hos HiMolde registrerer application i Gravitee.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Hvem: Teknisk sett kan alle med Feide-konto logge p\xe5 og registrere, om institusjonen har tillatt det. Kan trolig gj\xf8res av RI selv, men det er praktiske ulemper med det. Er trolig ogs\xe5 uryddig ansvar? Kunne hende at Uninett kunne registrert applikasjonen, som tjenesteleverand\xf8r av RI. B\xf8r diskuteres. Hos UiO sier vi at det er tjenesteeier som skal registrere og eie applikasjonen, da det virker ryddigst. Fordeler og ulemper - gir td. tilgang til \xe5 feils\xf8ke."))),(0,a.kt)("li",{parentName:"ol"},"Tjenesteeier for RI hos HiMolde ber om tilgang tli FS API",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Generelt: Tjenesteeier/datakonsument ber om tilgang til API"),(0,a.kt)("li",{parentName:"ul"},"Hvem: Dataeier (kan delegeres internt). Se punktet over, tilsvarende."),(0,a.kt)("li",{parentName:"ul"},"Kommentar: S\xf8knad b\xf8r ha god beskrivelse eller referanse."))),(0,a.kt)("li",{parentName:"ol"},"HiMolde sin Studieadm (dataeier) godkjenner tilgangen i Gravitee.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Generelt:"),(0,a.kt)("li",{parentName:"ul"},"Hvem: Dette b\xf8r/m\xe5 vere dataeier, i alle fall ansvaret. Juridisk sett. \xd8nsker ikke delegere, for \xe5 tvinge et eierskap til tilgangsoversikt."),(0,a.kt)("li",{parentName:"ul"},"Kommentar: Avtaler m\xe5 p\xe5 plass f\xf8rst, og evt. ROS-analyse og andre formaliteter. TODO: Lenk til dokumentasjonen/veileder."))),(0,a.kt)("li",{parentName:"ol"},"HiMolde sender API-n\xf8kkel til Uninett IAM.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Generelt:"),(0,a.kt)("li",{parentName:"ul"},"Hvem: Hvis delegert til Uninett faller det bort, siden det g\xe5r internt."),(0,a.kt)("li",{parentName:"ul"},"Kommentar: N\xf8kkel m\xe5 sendes p\xe5 sikker m\xe5te.")))))),(0,a.kt)("p",null,"(Mulig Gravitee Cockpit kan forenkle oppsettet av FS-API, men tilganger m\xe5 fremdeles styres hos institusjonen)"),(0,a.kt)("h3",{id:"rabbitmq"},"RabbitMQ"),(0,a.kt)("p",null,"BROM er p\xe5 samme m\xe5te som API manager."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Tjenesteeier m\xe5 registrere datatilbyders system i BROM (kalles applikasjon i BROM)",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Fyll inn dokumentasjon etc"),(0,a.kt)("li",{parentName:"ul"},"(Dette p\xe5virker RabbitMQ direkte - setter opp en vhost ferdig satt opp)"))),(0,a.kt)("li",{parentName:"ol"},"Tjenesteeier/datatilbyder registrerer i BROM at systemet sitt publiserer notifikasjoner."),(0,a.kt)("li",{parentName:"ol"},"Delegere tilgang til application i BROM til teknikere, s\xe5 de kan hente hemmeligheter(?) etc. og sette opp notifikasjonsutsendinger mot riktig punkt."),(0,a.kt)("li",{parentName:"ol"},"Teknikere m\xe5 sette opp tjenesten til \xe5 koble til rabbitmq"),(0,a.kt)("li",{parentName:"ol"},"Konsumenter m\xe5 opprette sin applikasjon i BROM"),(0,a.kt)("li",{parentName:"ol"},"Konsumenter m\xe5 abonnere (s\xf8ke) p\xe5 applikasjonen til datatilbyder (fra punkt 1)"),(0,a.kt)("li",{parentName:"ol"},"Tjenesteeier m\xe5 akseptere abonnementet til konsument, i BROM.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"(Dette setter opp overf\xf8ringen fra datatilbyder til konsument)"))),(0,a.kt)("li",{parentName:"ol"},"Konsument henter ut tilkoblingsdetaljer i BROM for applikasjonstilgangen",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"M\xe5 sendes p\xe5 sikker m\xe5te.")))),(0,a.kt)("p",null,"BROM bruker dataporten-grupper for tilgang (ad hoc). Ikke s\xe5 optimalt."),(0,a.kt)("p",null,"B\xf8r trolig ikke gi noen tilgang til RabbitMQ direkte. Bruk BROM. Tvinger folk til riktig oppsett."))}m.isMDXComponent=!0},6606:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/arch-datautveksling-e21b55ab8ea90617c9b17120fffa03a1.png"},3793:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/todo-prosesser-53b018a0a6c317b5c8a45d7eb5bef731.png"}}]);