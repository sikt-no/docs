"use strict";(self.webpackChunkdocs_sikt_no=self.webpackChunkdocs_sikt_no||[]).push([[3682],{5747:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"educsc/trusseletterretning/rpz","title":"DNS-brannmur","description":"Mange phishing-kampanjer og enkelte typer malware kan enkelt blokkeres ved \xe5 hindre oppslag til domenet de peker til. DNS-brannmuren til eduCSC bruker s\xe5kalt RPZ til \xe5 gj\xf8re dette, og bruker den samme oppdaterte dataen som ligger til grunn forMS Defender-integrasjonen v\xe5r.","source":"@site/docs/educsc/trusseletterretning/rpz.md","sourceDirName":"educsc/trusseletterretning","slug":"/educsc/trusseletterretning/rpz","permalink":"/docs/educsc/trusseletterretning/rpz","draft":false,"unlisted":false,"editUrl":"https://github.com/sikt-no/docs/tree/master/docs/educsc/trusseletterretning/rpz.md","tags":[],"version":"current","lastUpdatedAt":1745578938000,"frontMatter":{},"sidebar":"educsc","previous":{"title":"Defender-integrasjonen til eduCSC","permalink":"/docs/educsc/trusseletterretning/ms-defender"},"next":{"title":"MISP (Malware Information Sharing Platform)","permalink":"/docs/educsc/trusseletterretning/misp"}}');var s=r(4848),i=r(8453);const l={},o="DNS-brannmur",d={},a=[{value:"Hvordan tjenesten fungerer",id:"hvordan-tjenesten-fungerer",level:2},{value:"Kom i gang",id:"kom-i-gang",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"dns-brannmur",children:"DNS-brannmur"})}),"\n",(0,s.jsx)(n.p,{children:"Mange phishing-kampanjer og enkelte typer malware kan enkelt blokkeres ved \xe5 hindre oppslag til domenet de peker til. DNS-brannmuren til eduCSC bruker s\xe5kalt RPZ til \xe5 gj\xf8re dette, og bruker den samme oppdaterte dataen som ligger til grunn forMS Defender-integrasjonen v\xe5r."}),"\n",(0,s.jsx)(n.h2,{id:"hvordan-tjenesten-fungerer",children:"Hvordan tjenesten fungerer"}),"\n",(0,s.jsx)(n.p,{children:"Ved blokkering sender vi brukeren videre til et synkehull, hvor vi logger foresp\xf8rselen og ev. annen relevant informasjon for statistikk- og driftsform\xe5l. Brukeren f\xe5r ogs\xe5 opp en nettside som forklarer at foresp\xf8rselen ble blokkert og en enkel forklaring av hva tjenesten DNS-brannmur er."}),"\n",(0,s.jsx)(n.p,{children:"Tjenesten baserer seg p\xe5 navnetjenerne som Sikt allerede driver. Disse er stabile og geografisk distribuert for \xe5 sikre en mest mulig p\xe5litelig tjeneste."}),"\n",(0,s.jsx)(n.h2,{id:"kom-i-gang",children:"Kom i gang"}),"\n",(0,s.jsxs)(n.p,{children:["F\xf8r du setter i gang m\xe5 du melde inn hvilke nett som skal beskyttes. Klienter utenfor dette nettet vil ikke f\xe5 DNS-brannmur. Send detaljene til ",(0,s.jsx)(n.a,{href:"mailto:sak@sikt.no",children:"sak@sikt.no"})," og vi bekrefter n\xe5r vi har gjort n\xf8dvendige oppdateringer p\xe5\xa0kanten v\xe5r."]}),"\n",(0,s.jsx)(n.p,{children:"F\xf8rst og fremst m\xe5 du konfigurere klienter til \xe5 bruke navnetjenerne til Sikt:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"IPv4: 158.38.0.1, 158.38.0.2"}),"\n",(0,s.jsx)(n.li,{children:"IPv6: 2001:700:0:ff00::1, 2001:700:0:ff00::2"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Hvordan dette gj\xf8res er avhengig av lokal infrastruktur. Det typiske er \xe5 gj\xf8re det gjennom DHCP (IPv4) eller RA DNS options (ev DHCPv6, IPv6)."}),"\n",(0,s.jsx)(n.p,{children:"De med split-brain eller eksisterende navnetjenere for oppslag, for eksempel Active Directory, kan vurdere \xe5 sette opp DNS-forwarding:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["AD: ",(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/windows-server/networking/dns/quickstart-install-configure-dns-server?tabs=powershell#configure-forwarders",children:"Configure forwarders"})]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://bind9.readthedocs.io/en/latest/reference.html#forwarding",children:"Forwarding in bind9"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://unbound.docs.nlnetlabs.nl/en/latest/manpages/unbound.conf.html#forward-zone-options",children:"Forwarding i unbound"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Merk at forwarding eller NAT vil gj\xf8re ev. statistikk om antallet brukere mindre nyttig. Det samme gjelder for brukere bak NAT eller lignende mekanismer."}),"\n",(0,s.jsxs)(n.p,{children:["For \xe5 bekrefte at tjenesten fungerer, bruk dig, nslookup eller liknende for \xe5 sl\xe5 opp testdomenet v\xe5rt. Domenet skal svare med en ",(0,s.jsx)(n.code,{children:"CNAME"})," (alias) mot domenet ",(0,s.jsx)(n.code,{children:"blocked[.]cert.uninett.no"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"$ dig +short filtertest.dnsbrannmur.no\nblocked.cert.uninett.no.\n158.38.2.54\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var t=r(6540);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);