"use strict";(self.webpackChunkdocs_sikt_no=self.webpackChunkdocs_sikt_no||[]).push([[7807],{908:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/log-line-overview-ae9828343a29d4210286eeddb4fcd86b.png"},1958:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/grafana-explore-sidebar-eeb10c81a60aae11bd61f1d53b24590e.png"},3577:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/line-contains-search-done-200454b1740a8c8e463de4eed311312d.png"},4197:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/grafana-explore-36cd6b7ad9f46b64a9522d2bea810556.png"},4227:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/add-as-line-contains-filter-27109c7a877240faf858259e48f8f777.png"},6659:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"iam/logger","title":"Logger i Felles IAM","description":"Logger for Felles IAMs tjenester er tilgjengelige for institusjonene p\xe5 https://logs.iam.sikt.no/.","source":"@site/docs/iam/logger.md","sourceDirName":"iam","slug":"/iam/logger","permalink":"/docs/iam/logger","draft":false,"unlisted":false,"editUrl":"https://github.com/sikt-no/docs/tree/master/docs/iam/logger.md","tags":[],"version":"current","lastUpdatedAt":1765544978000,"frontMatter":{},"sidebar":"iam","previous":{"title":"System roles in Rapid Identity","permalink":"/docs/iam/systemroller"},"next":{"title":"Active Directory","permalink":"/docs/iam/integrasjoner/Active Directory"}}');var s=r(4848),t=r(8453);const l={},d="Logger i Felles IAM",o={},a=[{value:"Hvordan s\xf8ke i logger",id:"hvordan-s\xf8ke-i-logger",level:2},{value:"Begrepsdefinisjoner man burde v\xe6re klar over ifb. filtrering",id:"begrepsdefinisjoner-man-burde-v\xe6re-klar-over-ifb-filtrering",level:3},{value:"Finne flere loggmeldinger som ligner p\xe5 en du ser p\xe5",id:"finne-flere-loggmeldinger-som-ligner-p\xe5-en-du-ser-p\xe5",level:3},{value:"Notifikasjoner og alarmer",id:"notifikasjoner-og-alarmer",level:2}];function g(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"logger-i-felles-iam",children:"Logger i Felles IAM"})}),"\n",(0,s.jsxs)(n.p,{children:["Logger for Felles IAMs tjenester er tilgjengelige for institusjonene p\xe5 ",(0,s.jsx)(n.a,{href:"https://logs.iam.sikt.no/",children:"https://logs.iam.sikt.no/"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Tjenesten krever Feide-innlogging, og tilgang til tjenesten m\xe5 bestilles fra Felles IAM. Dette m\xe5 gj\xf8res via din IAM-koordinator. Be de sende en epost til ",(0,s.jsx)(n.a,{href:"mailto:kontakt@sikt.no",children:"kontakt@sikt.no"})," med f\xf8lgende informasjon:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Fullt navn"}),"\n",(0,s.jsxs)(n.li,{children:["Feide-ID (Denne finner du p\xe5 ",(0,s.jsx)(n.a,{href:"https://innsyn.feide.no/aboutme",children:"https://innsyn.feide.no/aboutme"})," under ",(0,s.jsx)(n.code,{children:"Personopplysninger > Personlig ID hos vertsorganisasjonen"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"I grafana har hver institusjon sin egen organisasjon, og kan kun se sine egne logger. Per n\xe5 er det et subset av logger fra ActionSet i RapidIdentity som kommer hit, og de klassifiseres i en av to kategorier:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Error: feilmeldinger"}),"\n",(0,s.jsx)(n.li,{children:"Audit: endringsmelding p\xe5 en bruker"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"hvordan-s\xf8ke-i-logger",children:"Hvordan s\xf8ke i logger"}),"\n",(0,s.jsxs)(n.p,{children:["S\xf8king gj\xf8res i ",(0,s.jsx)(n.code,{children:"Explore"})," i sidebaren. Trykk der."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Grafanas Explore-knapp i sidebaren",src:r(1958).A+"",width:"311",height:"344"})}),"\n",(0,s.jsx)(n.p,{children:"P\xe5 denne siden er det noen felter du m\xe5 ta stilling til f\xf8r du vil se noen logger. Noen er p\xe5krevd og noen har default-verdier du kan endre."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"alt text",src:r(4197).A+"",width:"1410",height:"640"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"P\xe5krevd"}),": Under ",(0,s.jsx)(n.code,{children:"Label filter"})," trykk ",(0,s.jsx)(n.code,{children:"Select label"})," og velg ",(0,s.jsx)(n.code,{children:"Subscription"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"P\xe5krevd"}),": Under ",(0,s.jsx)(n.code,{children:"Label filter"})," trykk ",(0,s.jsx)(n.code,{children:"Select value"})," og velg enten ",(0,s.jsx)(n.code,{children:"audit"})," eller ",(0,s.jsx)(n.code,{children:"errors"}),", avhengig av hva slags meldinger du vil se"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"Valgfri"}),": Tidsvindu. ",(0,s.jsx)(n.code,{children:"Last 1 hour"})," (",(0,s.jsx)(n.em,{children:"den siste timen"}),") er default. Vil du se logger fra et annet tidsvindu s\xe5 trykk p\xe5 ",(0,s.jsx)(n.code,{children:"Last 1 hour"})," og velg noe annet."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"Valgfri"}),": N\xe5r du \xe5pner et nytt s\xf8k, som du akkurat har gjort her, s\xe5 er filteret tomt. Det betyr at du vil se alle meldinger, ingen blir filtrert ut. Vil du filtrere p\xe5 meldinger se dokumentasjonen for filtrering lenger nede."]}),"\n",(0,s.jsxs)(n.li,{children:["Du kj\xf8rer s\xf8ket du har konfigurert opp ved \xe5 trykke den bl\xe5 ",(0,s.jsx)(n.code,{children:"Run query"}),"-knappen. Loggene som matcher s\xf8ket ditt vil dukke opp under s\xf8ke-menyen, p\xe5 bunnen av siden. Merk at blant annet knappene for tidsvinduvalg og ",(0,s.jsx)(n.code,{children:"Run query"})," blir mindre etter du kj\xf8rer det f\xf8rste s\xf8ket. Men de fungerer fortsatt som f\xf8r."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Et notat om tunge s\xf8k"}),": Noe som er verdt \xe5 vite er at s\xf8k som gir en stor mengde logger, f.eks. om du s\xf8ker over en stor periode uten tilstrekkelig filtrering, kan v\xe6re veldig treige, eller til og med feile helt. Dette l\xf8ses best ved \xe5 avgrense tidsrommet, men det finnes en del andre virkemidler. Grafana har noe dokumentasjon p\xe5 denne problemstillingen ",(0,s.jsx)(n.a,{href:"https://grafana.com/docs/loki/latest/query/bp-query/#query-best-practices",children:"her"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Et notat om generell Grafana-dokumentasjon"}),": Om du leser generell Grafana-dokumentasjon s\xe5 er det verdt \xe5 vite at v\xe5rt oppsett bruker ",(0,s.jsx)(n.code,{children:"Loki"})," som ",(0,s.jsx)(n.code,{children:"data source"}),". Dokumentasjon som gjelder andre typer datakilder enn ",(0,s.jsx)(n.code,{children:"Loki"})," kan derfor v\xe6re mangelfull eller misvisende."]}),"\n",(0,s.jsx)(n.h3,{id:"begrepsdefinisjoner-man-burde-v\xe6re-klar-over-ifb-filtrering",children:"Begrepsdefinisjoner man burde v\xe6re klar over ifb. filtrering"}),"\n",(0,s.jsxs)(n.p,{children:["En loggmelding best\xe5r hovedsakelig av to deler:\n",(0,s.jsx)(n.img,{alt:"Figur som viser at en logglinjer best\xe5r av to deler, en meldingskropp som er et JSON-objekt og metadata",src:r(908).A+"",width:"970",height:"370"})]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Denne kaller vi ",(0,s.jsx)(n.code,{children:"Line"}),", og den kan tenkes p\xe5 som hoveddelen eller ",(0,s.jsx)(n.em,{children:"kroppen"})," av meldingen. Litt uintuitivt, men hele JSON-objektet man ser her referes til som ",(0,s.jsx)(n.code,{children:"line"}),". N\xe5r man filtrer med ",(0,s.jsx)(n.code,{children:"Line contains"})," s\xe5 sjekker man om hele dette objektet, som r\xe5tekst, inneholder tekst-strengen man s\xf8ker etter."]}),"\n",(0,s.jsxs)(n.li,{children:["Dette er ",(0,s.jsx)(n.code,{children:"Fields"}),", og er hovedsakelig metadata om meldingen, og kan mer tenkes p\xe5 som bakenforliggende felter som systemet bruker for \xe5 lagre dataen p\xe5 riktig m\xe5te."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"finne-flere-loggmeldinger-som-ligner-p\xe5-en-du-ser-p\xe5",children:"Finne flere loggmeldinger som ligner p\xe5 en du ser p\xe5"}),"\n",(0,s.jsx)(n.p,{children:"Et brukstilfelle Grafana st\xf8tter veldig godt er om du vil finne flere loggmeldinger som inneholder en del av en annen loggmelding, en melding du har \xe5pen akkurat n\xe5. F.eks. om du ser p\xe5 en melding med en spesifikk UHID og du vil finne alle loggmeldinger som inneholder den samme UHID-en."}),"\n",(0,s.jsxs)(n.p,{children:["Dette gj\xf8res ved \xe5 selecte teksten du vil s\xf8ke etter i meldingen i Grafanagrensesnittet. En kontekstmeny vil s\xe5 komme opp der du kan velge ",(0,s.jsx)(n.code,{children:"Add as line contains filter"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"alt text",src:r(4227).A+"",width:"1416",height:"1056"})}),"\n",(0,s.jsx)(n.p,{children:"Dette vil oppdatere s\xf8ket ditt til \xe5 kun inneholde loggmeldinger som inneholder teksten du har s\xf8kt etter. Teksten du har s\xf8kt etter blir highlighted i oransje i resultatet."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"alt text",src:r(3577).A+"",width:"1415",height:"1129"})}),"\n",(0,s.jsx)(n.h2,{id:"notifikasjoner-og-alarmer",children:"Notifikasjoner og alarmer"}),"\n",(0,s.jsx)(n.p,{children:"Grafana st\xf8tter utsending av notifikasjoner n\xe5r prekonfigurerte s\xf8k f\xe5r nye resultater."}),"\n",(0,s.jsxs)(n.p,{children:["Dette gir deg muligheten til \xe5 sette opp grafana til \xe5 sende f.eks. epost eller teams-meldinger n\xe5r spesifikke feilmeldinger oppst\xe5r. Slike notifikasjoner er kjent som ",(0,s.jsx)(n.em,{children:"Alerts"})," i Grafana, og du finner oppsettet av det under ",(0,s.jsx)(n.code,{children:"Alerting"})," i sidebaren."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://grafana.com/docs/grafana/latest/alerting/fundamentals/",children:"Grafana har utfyllende dokumentasjon p\xe5 alerts her."})})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>d});var i=r(6540);const s={},t=i.createContext(s);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);