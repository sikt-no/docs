{
  "name": "Digdir KRR API Test",
  "version": "v1",
  "description": "Kontakt og reservasjonsregisterets REST API mot testmiljøet",
  "visibility": "PRIVATE",
  "picture": "data:image/png;base64,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",
  "flows": [
    {
      "name": "",
      "path-operator": {
        "path": "/",
        "operator": "STARTS_WITH"
      },
      "condition": "",
      "consumers": [],
      "methods": [],
      "pre": [
        {
          "name": "HTTP Callout",
          "description": "Innhente JWT fra Maskinporten",
          "enabled": true,
          "policy": "policy-http-callout",
          "configuration": {
            "headers": [
              {
                "name": "X-Gravitee-Api-Key",
                "value": "{#properties['maskinporten_api_key']}"
              },
              {
                "name": "scope",
                "value": "{#jsonPath(#context.attributes, '$.scope')}"
              },
              {
                "name": "iss",
                "value": "{#properties['maskinporten_api_iss']}"
              }
            ],
            "variables": [
              {
                "name": "token",
                "value": "{#jsonPath(#calloutResponse.content, '$.access_token')}"
              }
            ],
            "method": "GET",
            "fireAndForget": false,
            "scope": "REQUEST",
            "errorStatusCode": "500",
            "errorCondition": "{#calloutResponse.status >= 400 and #calloutResponse.status <= 599}",
            "url": "https://path.to/intark-maskinporten-api",
            "exitOnError": false
          }
        },
        {
          "name": "Transform Headers",
          "description": "",
          "enabled": true,
          "policy": "transform-headers",
          "configuration": {
            "addHeaders": [
              {
                "name": "Authorization",
                "value": "Bearer {#context.attributes['token']}"
              },
              {
                "name": "API_KEY",
                "value": "X"
              }
            ],
            "scope": "REQUEST"
          }
        }
      ],
      "post": [],
      "enabled": true
    }
  ],
  "gravitee": "2.0.0",
  "flow_mode": "DEFAULT",
  "resources": [],
  "categories": [
    "test"
  ],
  "labels": [
    "kontakt- og reservasjonsregisteret",
    "test",
    "krr"
  ],
  "pages": [
    {
      "id": "0a4cb52b-f84b-4b4c-8cb5-2bf84b3b4c95",
      "name": "Teknisk dokumentasjon",
      "type": "SWAGGER",
      "content": "{\"openapi\":\"3.0.1\",\"info\":{\"title\":\"REST-API for Kontakt- og reserversjonsregisteret (KRR)\",\"description\":\"Kontaktregisterets oppslagstjeneste tilbys gjennom eit OAuth2 beskyttet REST-API, sikra med Maskinporten.\\nTilgang til API-et styres med OAuth2-baserte access_tokens. Desse vert utstedt frå ID-porten si OAuth2-teneste.\\nLes meir på https://docs.digdir.no/docs/Kontaktregisteret/oppslagstjenesten_rest\",\"version\":\"2023-02-24-1221-112bef7\"},\"servers\":[{\"url\":\"http://oidc-ver2.difi.no\",\"description\":\"Generated server url\"}],\"security\":[{\"oauth2\":[]}],\"tags\":[{\"name\":\"Person\",\"description\":\"Tilgang til data om innlogga brukar (brukaren knytt til access token).\"},{\"name\":\"Sertifikat\",\"description\":\"Tilgang til printsertifikat.\"},{\"name\":\"Personer\",\"description\":\"Hent ut opptil 1000 personar frå KRR pr. API-kall\"},{\"name\":\"Postkasse\",\"description\":\"Aktivere, deaktivere eller sjekke postkasseleverandør for brukaren knytt til oppgjeven access token\"},{\"name\":\"Person\",\"description\":\"Lagre språkpreferanse for brukaren knytt til oppgjeven access token\"},{\"name\":\"Person\",\"description\":\"Lagre kontaktinformasjon for brukaren knytt til oppgjeven access token\"},{\"name\":\"Personer\",\"description\":\"Til bruk for replikering til ny KRR. Hent ut opptil 1000 personar frå KRR pr. API-kall\"}],\"paths\":{\"/rest/v2/postkasse\":{\"post\":{\"tags\":[\"Postkasse\"],\"summary\":\"Opprett og aktiver postkasse hos postkasseleverandør\",\"description\":\"Krev scope krr:global/digitalpost.write.\",\"operationId\":\"createPostbox\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/CreatePostboxRequest\"}}},\"required\":true},\"responses\":{\"404\":{\"$ref\":\"#/components/responses/userNotFound\"},\"201\":{\"description\":\"The postbox was successfully created.\"},\"415\":{\"$ref\":\"#/components/responses/unsupportedMediaType\"},\"422\":{\"$ref\":\"#/components/responses/invalidLanguage\"},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}},\"security\":[{\"oauth2\":[\"krr:global/digitalpost.write\"]}]}},\"/rest/v2/person\":{\"get\":{\"tags\":[\"Person\"],\"summary\":\"Hent KRR-data for brukaren knytt til access token\",\"description\":\"Minimumskrav til scope: krr:user/kontaktinformasjon.read. For å sjå kva data som blir gjeve ut basert på ulike scope, sjå https://difi.github.io/felleslosninger/brukerspesifikt_oppslag_krr_rest.html#bruk-av-oauth2\",\"operationId\":\"retrievePersonV2_1\",\"parameters\":[{\"name\":\"Authorization\",\"in\":\"header\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Ok\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PersonResource\"}},\"application/jose\":{\"schema\":{\"type\":\"string\"}}}},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}},\"security\":[{\"oauth2\":[\"krr:user/kontaktinformasjon.read\",\"krr:user/kontaktinformasjon.write\",\"krr:global/kontaktinformasjon.read\",\"krr:glabel/kontaktinformasjon.write\"]}]},\"post\":{\"tags\":[\"Person\"],\"summary\":\"Opprett brukaren sin kontaktinfo i KRR\",\"description\":\"Krev scope krr:global/kontaktinformasjon.write. Oppretter språk, mobiltelefonnummer og epostadresse.\",\"operationId\":\"createUser\",\"parameters\":[{\"name\":\"Authorization\",\"in\":\"header\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/KontaktinfoData\"}}},\"required\":true},\"responses\":{\"415\":{\"$ref\":\"#/components/responses/unsupportedMediaType\"},\"422\":{\"$ref\":\"#/components/responses/invalidLanguage\"},\"200\":{\"description\":\"User created and returned\",\"content\":{\"*/*\":{\"schema\":{\"$ref\":\"#/components/schemas/KontaktinfoData\"}}}},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}}},\"patch\":{\"tags\":[\"Person\"],\"summary\":\"Oppdater brukaren sin kontaktinfo i KRR\",\"description\":\"Krev scope krr:global/kontaktinformasjon.write. Endrer språk, mobiltelefonnummer og epostadresse.\",\"operationId\":\"patchUser\",\"parameters\":[{\"name\":\"Authorization\",\"in\":\"header\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/KontaktinfoData\"}}},\"required\":true},\"responses\":{\"204\":{\"description\":\"Query ok, no content in response\"},\"415\":{\"$ref\":\"#/components/responses/unsupportedMediaType\"},\"422\":{\"$ref\":\"#/components/responses/invalidLanguage\"},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}}}},\"/rest/v2/krr/hentEndringer\":{\"post\":{\"tags\":[\"Personer\"],\"summary\":\"Hent endringar frå KRR\",\"description\":\"Minimumskrav til scope: krr:global/hentendring.read og krr:global/kontaktinformasjon.read. For postboks og sertifikat er kravet i tillegg krr:global/digitalpost.read.\\nFor å sjå kva data som blir gjeve ut basert på ulike scope, sjå https://docs.digdir.no/docs/Kontaktregisteret/oppslagstjenesten_rest\",\"operationId\":\"hentEndringerForLokalKopi\",\"parameters\":[{\"name\":\"Authorization\",\"in\":\"header\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/HentEndringerRequest\"}}},\"required\":true},\"responses\":{\"200\":{\"description\":\"Ok\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/HentEndringerResponse\"}}}},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}},\"security\":[{\"oauth2\":[\"krr:global/hentendring.read\",\"global/kontaktinformasjon.read\",\"global/spraak.read\",\"global/spraak.write\",\"krr:global/kontaktinformasjon.read\",\"krr:global/spraak.write\"]}]}},\"/rest/v1/personer\":{\"post\":{\"tags\":[\"Personer\"],\"summary\":\"Hent ut 1 til 1000 personar frå KRR\",\"description\":\"Minimumskrav til scope: global/kontaktinformasjon.read, global/spraak.read eller global/spraak.write. For å sjå kva data som blir gjeve ut basert på ulike scope, sjå https://difi.github.io/felleslosninger/oppslagstjenesten_rest.html#tilgjenglige-scopes\",\"operationId\":\"hentPersoner_1\",\"parameters\":[{\"name\":\"Authorization\",\"in\":\"header\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/HentPersonerRequest\"}}},\"required\":true},\"responses\":{\"200\":{\"description\":\"Query ok, response returned\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/HentPersonerResponse\"}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}},\"security\":[{\"oauth2\":[\"global/kontaktinformasjon.read\",\"global/spraak.read\",\"global/spraak.write\",\"krr:global/kontaktinformasjon.read\",\"krr:global/spraak.write\"]}]}},\"/rest/v2/postkasse/{personidentifikator}\":{\"delete\":{\"tags\":[\"Postkasse\"],\"summary\":\"Slett postkasse hos postkasseleverandør\",\"description\":\"Krev scope krr:global/digitalpost.write.\",\"operationId\":\"deletePostbox\",\"parameters\":[{\"name\":\"personidentifikator\",\"in\":\"path\",\"required\":true,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"The postbox was successfully deleted.\"},\"404\":{\"$ref\":\"#/components/responses/userNotFound\"},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}},\"security\":[{\"oauth2\":[\"krr:global/digitalpost.write\"]}]},\"patch\":{\"tags\":[\"Postkasse\"],\"summary\":\"Endre postkasse hos postkasseleverandør\",\"description\":\"Krev scope krr:global/digitalpost.write.\",\"operationId\":\"updatePostbox\",\"parameters\":[{\"name\":\"personidentifikator\",\"in\":\"path\",\"required\":true,\"schema\":{\"type\":\"string\"}}],\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/UpdatePostboxRequest\"}}},\"required\":true},\"responses\":{\"404\":{\"$ref\":\"#/components/responses/userNotFound\"},\"204\":{\"description\":\"The postbox was successfully updated.\"},\"415\":{\"$ref\":\"#/components/responses/unsupportedMediaType\"},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}},\"security\":[{\"oauth2\":[\"krr:global/digitalpost.write\"]}]}},\"/rest/v1/person\":{\"get\":{\"tags\":[\"Person\"],\"summary\":\"Hent KRR-data for brukaren knytt til access token\",\"description\":\"Minimumskrav til scope: user/kontaktinformasjon.read, user/spraak.read eller user/spraak.write. For å sjå kva data som blir gjeve ut basert på ulike scope, sjå https://difi.github.io/felleslosninger/brukerspesifikt_oppslag_krr_rest.html#bruk-av-oauth2\",\"operationId\":\"retrievePerson_1\",\"parameters\":[{\"name\":\"Authorization\",\"in\":\"header\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Ok\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PersonResource\"}},\"application/jose\":{\"schema\":{\"$ref\":\"#/components/schemas/PersonResource\"}}}},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}},\"security\":[{\"oauth2\":[\"user/kontaktinformasjon.read\",\"user/spraak.read\",\"user/spraak.write\",\"krr:user/kontaktinformasjon.read\",\"krr:user/spraak.write\"]}]},\"patch\":{\"tags\":[\"Person\"],\"summary\":\"Oppdater brukaren sin språkpreferanse\",\"description\":\"Krev scope user/spraak.write. Kun for å endre språkpreferanse.\",\"operationId\":\"patchUser_1\",\"parameters\":[{\"name\":\"Authorization\",\"in\":\"header\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/UserResourcePatch\"}}},\"required\":true},\"responses\":{\"204\":{\"description\":\"Query ok, no content in response\",\"content\":{\"*/*\":{\"schema\":{\"type\":\"object\"}}}},\"415\":{\"$ref\":\"#/components/responses/unsupportedMediaType\"},\"422\":{\"$ref\":\"#/components/responses/invalidLanguage\"},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}},\"security\":[{\"oauth2\":[\"user/spraak.write\",\"krr:user/spraak.write\"]}]}},\"/rest/v2/printSertifikat\":{\"get\":{\"tags\":[\"Sertifikat\"],\"summary\":\"Hent printsertifikat for ny printleverandør\",\"description\":\"Ingen autorisasjon\",\"operationId\":\"getPrintCertificateV2\",\"responses\":{\"200\":{\"description\":\"Ok\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PrintSertifikatResponse\"}}}},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}}}},\"/rest/v2/krr/replika/inactivePostBoxes\":{\"get\":{\"tags\":[\"Personer\"],\"operationId\":\"listInactivePostboxes\",\"responses\":{\"200\":{\"description\":\"OK\",\"content\":{\"*/*\":{\"schema\":{\"type\":\"string\"}}}},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}}}},\"/rest/v1/printSertifikat\":{\"get\":{\"tags\":[\"Sertifikat\"],\"summary\":\"Hent printsertifikat\",\"description\":\"Ingen autorisasjon\",\"operationId\":\"getPrintCertificate\",\"responses\":{\"200\":{\"description\":\"Ok\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PrintSertifikatResponse\"}}}},\"400\":{\"description\":\"Forbidden\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Input error\",\"detail\":\"Something was wrong in the input\"}]}}}},\"401\":{\"description\":\"Unauthorized\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"401 UNAUTHORIZED\",\"title\":\"Unauthorized\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"403\":{\"description\":\"Forbidden\",\"headers\":{\"WWW-Authenticate\":{\"description\":\"error=\\\"insufficient_scope\\\" and may contain error_description=\\\"...\\\" and scope=\\\"...\\\". OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"403 FORBIDDEN\",\"title\":\"insufficient_scope\",\"detail\":\"Full authentication is required to access this resource\"}]}}}},\"500\":{\"description\":\"Internal Server Error\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"d001acab-77a8-5793-89bd-fc293e985433\",\"status\":\"500 INTERNAL_SERVER_ERROR\",\"title\":\"Oh no!\",\"detail\":\"An internal server error occurred!\"}]}}}}}}}},\"components\":{\"schemas\":{\"CreatePostboxRequest\":{\"required\":[\"personidentifikator\",\"postkasseadresse\"],\"type\":\"object\",\"properties\":{\"personidentifikator\":{\"type\":\"string\"},\"postkasseadresse\":{\"maxLength\":100,\"minLength\":0,\"type\":\"string\"},\"sertifikat\":{\"type\":\"string\",\"description\":\"Base64 encoded certificate\"}},\"description\":\"Opprett postkasse input\"},\"KontaktinfoData\":{\"type\":\"object\",\"properties\":{\"spraak\":{\"type\":\"string\",\"description\":\"ISO 639-1. Use empty string to delete user preference.\",\"enum\":[\"en,se,nb,nn,\\\"\\\"\"]},\"personidentifikator\":{\"type\":\"string\"},\"mobiltelefonnummer\":{\"type\":\"string\",\"description\":\"Use empty string to delete user preference.\"},\"epostadresse\":{\"type\":\"string\",\"description\":\"Use empty string to delete user preference.\"}},\"description\":\"Kontaktinfo create or patch\"},\"HentEndringerRequest\":{\"type\":\"object\",\"properties\":{\"fraEndringsId\":{\"type\":\"integer\",\"format\":\"int64\"}}},\"ContactInfoResource\":{\"type\":\"object\",\"properties\":{\"epostadresse\":{\"type\":\"string\"},\"epostadresse_oppdatert\":{\"type\":\"string\"},\"epostadresse_sist_verifisert\":{\"type\":\"string\"},\"mobiltelefonnummer\":{\"type\":\"string\"},\"mobiltelefonnummer_oppdatert\":{\"type\":\"string\"},\"mobiltelefonnummer_sist_verifisert\":{\"type\":\"string\"}}},\"DigitalPostResource\":{\"type\":\"object\",\"properties\":{\"postkasseadresse\":{\"type\":\"string\"},\"postkasseleverandoeradresse\":{\"type\":\"string\"}}},\"HentEndringerResponse\":{\"type\":\"object\",\"properties\":{\"list\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PersonResource\"}},\"fraEndringsId\":{\"type\":\"integer\",\"format\":\"int64\"},\"tilEndringsId\":{\"type\":\"integer\",\"format\":\"int64\"},\"sisteEndringsId\":{\"type\":\"integer\",\"format\":\"int64\"}}},\"PersonResource\":{\"required\":[\"personidentifikator\",\"reservasjon\",\"status\"],\"type\":\"object\",\"properties\":{\"personidentifikator\":{\"type\":\"string\"},\"reservasjon\":{\"type\":\"string\",\"enum\":[\"JA,NEI\"]},\"status\":{\"type\":\"string\",\"enum\":[\"AKTIV,SLETTET,IKKE_REGISTRERT\"]},\"varslingsstatus\":{\"type\":\"string\",\"enum\":[\"KAN_IKKE_VARSLES,KAN_VARSLES\"]},\"kontaktinformasjon\":{\"$ref\":\"#/components/schemas/ContactInfoResource\"},\"digital_post\":{\"$ref\":\"#/components/schemas/DigitalPostResource\"},\"sertifikat\":{\"type\":\"string\"},\"spraak\":{\"type\":\"string\"},\"spraak_oppdatert\":{\"type\":\"string\"}},\"description\":\"Kva felt ein får ut i responsen er avhengig av kva scope ein har, sjå https://difi.github.io/felleslosninger/oppslagstjenesten_rest.html#tilgjenglige-scopes eller for innlogga brukar oppslag https://difi.github.io/felleslosninger/brukerspesifikt_oppslag_krr_rest.html#bruk-av-oauth2\"},\"HentPersonerRequest\":{\"required\":[\"personidentifikatorer\"],\"type\":\"object\",\"properties\":{\"personIdentifiersAsString\":{\"type\":\"string\"},\"personidentifikatorer\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}},\"HentPersonerResponse\":{\"type\":\"object\",\"properties\":{\"personer\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PersonResource\"}}}},\"UpdatePostboxRequest\":{\"required\":[\"postkasseadresse\"],\"type\":\"object\",\"properties\":{\"postkasseadresse\":{\"maxLength\":100,\"minLength\":0,\"type\":\"string\"},\"sertifikat\":{\"type\":\"string\",\"description\":\"Base64 encoded certificate\"}},\"description\":\"Oppdater postkasse input\"},\"UserResourcePatch\":{\"required\":[\"spraak\"],\"type\":\"object\",\"properties\":{\"spraak\":{\"type\":\"string\",\"description\":\"ISO 639-1. Use empty string to delete user preference.\",\"enum\":[\"en,se,nb,nn,\\\"\\\"\"]}},\"description\":\"person patch document\"},\"PrintSertifikatResponse\":{\"required\":[\"postkasseleverandoerAdresse\",\"x509Sertifikat\"],\"type\":\"object\",\"properties\":{\"postkasseleverandoerAdresse\":{\"type\":\"string\"},\"x509Sertifikat\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"byte\"}}},\"description\":\"Printsertifikat, ligger åpent\"}},\"responses\":{\"userNotFound\":{\"description\":\"Not Found\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"35aea7b4-9382-4790-a526-01c2b94d68fe\",\"status\":\"404 NOT_FOUND\",\"title\":\"Bruker ikke funnet\",\"detail\":\"Kan ikke finne den aktuelle brukeren\"}]}}}},\"unsupportedMediaType\":{\"description\":\"Unsupported Media Type\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"35aea7b4-9382-4790-a526-01c2b94d68fe\",\"status\":\"415 UNSUPPORTED_MEDIA_TYPE\",\"title\":\"Unsupported media type\",\"detail\":\"The request entity has a media type which is not supported (text/plain). Supported types : [application/json]\"}]}}}},\"invalidLanguage\":{\"description\":\"Unprocessable request. For example wrong value for spraak\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"35aea7b4-9382-4790-a526-01c2b94d68fe\",\"status\":\"422 UNPROCESSABLE_ENTITY\",\"title\":\"Ugyldig verdi for spraak\",\"detail\":\"Se dokumentasjon for liste over mulige verdier.\",\"source\":{\"pointer\":\"/spraak\"}}]}}}},\"postboxOperatorNotFound\":{\"description\":\"Not Found\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"35aea7b4-9382-4790-a526-01c2b94d68fe\",\"status\":\"404 NOT_FOUND\",\"title\":\"Postboksoperatør ikke funnet\",\"detail\":\"Kan ikke finne den aktuelle postkasseoperatøren\"}]}}}},\"deactivatePostboxFailed\":{\"description\":\"Bad Request\",\"content\":{\"application/json\":{\"example\":{\"errors\":[{\"id\":\"35aea7b4-9382-4790-a526-01c2b94d68fe\",\"status\":\"400 BAD_REQUEST\",\"title\":\"Feil ved deaktivisering av postboks\",\"detail\":\"Kunne ikke deaktivere postboks\"}]}}}}},\"headers\":{\"WWW-Authenticate\":{\"description\":\"Header present in case of Oauth2-related errors. Will have multiple values, among them: error=\\\"invalid_request\\\" and may contain error_description=\\\"...\\\" with further details. OAuth2-related errors - see https://tools.ietf.org/html/rfc6750#page-9\",\"schema\":{\"type\":\"string\"}}},\"securitySchemes\":{\"oauth2\":{\"type\":\"oauth2\",\"description\":\"Oauth2 flow\",\"flows\":{\"authorizationCode\":{\"authorizationUrl\":\"https://oidc-ver2.difi.no/idporten-oidc-provider/authorize\",\"tokenUrl\":\"https://oidc-ver2.difi.no/idporten-oidc-provider/token\",\"refreshUrl\":\"https://oidc-ver2.difi.no/idporten-oidc-provider/token\",\"scopes\":{\"user/spraak.read\":\"Gir tilgang til innlogga brukar sin språkpreferanse\",\"user/spraak.write\":\"Gir tilgang til å oppdatere innlogga brukar sin språkpreferanse\",\"global/spraak.read\":\"Gir tilgang til å lese personar sin språkpreferanse\",\"user/kontaktinformasjon.read\":\"Gir tilgang til innlogga brukar si e-postadresse og mobilnummer + tidspunkt for sist oppdatering\",\"global/kontaktinformasjon.read\":\"Gir tilgang til personar sine e-postadresser og mobilnummer + tidspunkt for sist oppdatering\",\"user/varslingsstatus.read\":\"Gir tilgang til innlogga brukar sin status for om kontaktinfomasjonen kan brukast for varsling iht. eForvaltningsforskrifta sin §32\",\"global/varslingsstatus.read\":\"Gir tilgang til status for om kontaktinfomasjonen kan brukast for varsling iht. eForvaltningsforskrifta sin §32\",\"user/sikkerdigitalpost.read\":\"Gir tilgang til innlogga brukar si adresse for digital post til innbyggar\",\"global/sikkerdigitalpost.read\":\"Gir tilgang til adresse for digital post til innbyggar\",\"user/sertifikat.read\":\"Gir tilgang til innlogga bruker sitt krypteringssertifikat ved sending av digital post\",\"global/sertifikat.read\":\"Gir tilgang til personar sitt krypteringssertifikat ved sending av digital post\",\"user/digitalpost.read\":\"Gir tilgang til informasjon om innlogga brukar si digitale postkasse\",\"global/digitalpost.read\":\"Gir tilgang til personar sine digitale postkasser\",\"user/digitalpost.write\":\"Gir tilgang til å aktivere/deaktivere innlogga brukars digitale postkasse\",\"global/digitalpost.write\":\"Gir tilgang til å opprette og slette personar sine digitale postkasser\"}}}}}}}",
      "order": 1,
      "lastContributor": "76163fc3-ce9e-402f-963f-c3ce9ea02f4e",
      "published": true,
      "visibility": "PUBLIC",
      "lastModificationDate": 1680520269546,
      "contentType": "application/json",
      "configuration": {
        "viewer": "Swagger",
        "entrypointAsBasePath": "true",
        "entrypointsAsServers": "true"
      },
      "homepage": false,
      "parentPath": "",
      "excludedAccessControls": false,
      "accessControls": [],
      "api": "92db9c41-662f-47c4-9b9c-41662f87c407",
      "attached_media": []
    },
    {
      "id": "06faf594-b4cd-4f83-baf5-94b4cd6f83e4",
      "name": "Ekstern dokumentasjon",
      "type": "MARKDOWN",
      "content": "[Digdir KRR API dokumentasjon](https://oidc-ver2.difi.no//kontaktinfo-oauth2-server/swagger-ui/index.html)\n\n[Teknisk dokumentasjon](https://docs.digdir.no/docs/Kontaktregisteret/oppslagstjenesten_rest)",
      "order": 2,
      "lastContributor": "76163fc3-ce9e-402f-963f-c3ce9ea02f4e",
      "published": true,
      "visibility": "PUBLIC",
      "lastModificationDate": 1680520810380,
      "contentType": "text/yaml",
      "homepage": false,
      "parentPath": "",
      "excludedAccessControls": false,
      "accessControls": [],
      "api": "92db9c41-662f-47c4-9b9c-41662f87c407",
      "attached_media": []
    }
  ],
  "plans": [
    {
      "id": "902fc160-61d9-432c-afc1-6061d9332ceb",
      "name": "Lesetilgang kontaktinformasjon",
      "description": "Git tilgang til scope krr:global/kontaktinformasjon.read",
      "validation": "MANUAL",
      "security": "API_KEY",
      "type": "API",
      "status": "PUBLISHED",
      "api": "92db9c41-662f-47c4-9b9c-41662f87c407",
      "order": 1,
      "characteristics": [],
      "created_at": 1680518568189,
      "updated_at": 1680519649036,
      "published_at": 1680519649036,
      "paths": {},
      "flows": [
        {
          "name": "",
          "path-operator": {
            "path": "/",
            "operator": "STARTS_WITH"
          },
          "condition": "",
          "consumers": [],
          "methods": [],
          "pre": [
            {
              "name": "Assign attributes",
              "description": "Legger til scope krr:global/kontaktinformasjon.read",
              "enabled": true,
              "policy": "policy-assign-attributes",
              "configuration": {
                "scope": "REQUEST",
                "attributes": [
                  {
                    "name": "scope",
                    "value": "krr:global/kontaktinformasjon.read"
                  }
                ]
              }
            }
          ],
          "post": [],
          "enabled": true
        }
      ],
      "comment_required": false
    }
  ],
  "metadata": [
    {
      "key": "email-support",
      "name": "email-support",
      "format": "MAIL",
      "value": "${(api.primaryOwner.email)!''}",
      "defaultValue": "support@change.me",
      "apiId": "92db9c41-662f-47c4-9b9c-41662f87c407"
    }
  ],
  "id": "92db9c41-662f-47c4-9b9c-41662f87c407",
  "path_mappings": [],
  "proxy": {
    "virtual_hosts": [
      {
        "path": "/test/digdir/krr"
      }
    ],
    "strip_context_path": false,
    "preserve_host": false,
    "groups": [
      {
        "name": "default-group",
        "endpoints": [
          {
            "backup": false,
            "inherit": true,
            "name": "default",
            "weight": 1,
            "type": "http",
            "target": "https://test.kontaktregisteret.no/rest/"
          }
        ],
        "load_balancing": {
          "type": "ROUND_ROBIN"
        },
        "http": {
          "connectTimeout": 5000,
          "idleTimeout": 60000,
          "keepAlive": true,
          "readTimeout": 10000,
          "pipelining": false,
          "maxConcurrentConnections": 100,
          "useCompression": true,
          "followRedirects": false
        }
      }
    ]
  },
  "response_templates": {}
}