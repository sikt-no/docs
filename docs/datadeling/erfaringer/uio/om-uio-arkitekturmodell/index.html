<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-datadeling/erfaringer/uio/om-uio-arkitekturmodell">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Teknisk beskrivelse av UiOs integrasjonsarkitektur | Sikt teknisk dokumentasjon</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.uninett.no/docs/datadeling/erfaringer/uio/om-uio-arkitekturmodell"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Teknisk beskrivelse av UiOs integrasjonsarkitektur | Sikt teknisk dokumentasjon"><meta data-rh="true" name="description" content="En beskrivelse av hvordan UiOs integrasjonsarkitektur ble satt opp, fra 2017."><meta data-rh="true" property="og:description" content="En beskrivelse av hvordan UiOs integrasjonsarkitektur ble satt opp, fra 2017."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.uninett.no/docs/datadeling/erfaringer/uio/om-uio-arkitekturmodell"><link data-rh="true" rel="alternate" href="https://docs.uninett.no/docs/datadeling/erfaringer/uio/om-uio-arkitekturmodell" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.uninett.no/docs/datadeling/erfaringer/uio/om-uio-arkitekturmodell" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.93f94bdf.css">
<link rel="preload" href="/assets/js/runtime~main.2e1e1a70.js" as="script">
<link rel="preload" href="/assets/js/main.f0faee14.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/sikt_logo.svg" alt="Sikt logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/sikt_logo_white.svg" alt="Sikt logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">teknisk dokumentasjon</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/datadeling/">Datadeling</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/">Fellestjeneste for Datadeling (IntArk)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/om/">Hva er Fellestjenesten for Datadeling (IntArk)?</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hva er Fellestjenesten for Datadeling (IntArk)?&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/teknisk-plattform/">IntArk sin tekniske plattform</a><button aria-label="Toggle the collapsible sidebar category &#x27;IntArk sin tekniske plattform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/begreper/">Begreper i IntArk</a><button aria-label="Toggle the collapsible sidebar category &#x27;Begreper i IntArk&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/datadeling/erfaringer/">Erfaringer fra bruk av IntArk</a><button aria-label="Toggle the collapsible sidebar category &#x27;Erfaringer fra bruk av IntArk&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/datadeling/erfaringer/uib/uib-iga-naming">uib</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/datadeling/erfaringer/uio/om-uio-arkitekturmodell">uio</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/datadeling/erfaringer/uio/om-uio-arkitekturmodell">Teknisk beskrivelse av UiOs integrasjonsarkitektur</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/erfaringer/uio/portefolje">Tjenesteportefølje</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/om/styringsmodellen/">Styringsmodellen til UiO:IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/erfaringer/uio/uio-canvas">UiO sin Canvas-integrasjon</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/erfaringer/uio/uio-notifikasjonar">UiO sine erfaringer med notifikasjonar</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/faq">Spørsmål og svar</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/god-praksis/">God praksis i fellestjenesten for Datadeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;God praksis i fellestjenesten for Datadeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/kode">Kode som bruker IntArk</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/datadeling/malgrupper/anskaffer/">malgrupper</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/prinsippene">Integrasjonsprinsippene for IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/styringsregler">Styringsreglene til IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/unntak">Unntakshåndtering</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/veiledere/">Veiledere i IntArk</a><button aria-label="Toggle the collapsible sidebar category &#x27;Veiledere i IntArk&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Datadeling</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/datadeling/erfaringer/"><span itemprop="name">Erfaringer fra bruk av IntArk</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">uio</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Teknisk beskrivelse av UiOs integrasjonsarkitektur</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Teknisk beskrivelse av UiOs integrasjonsarkitektur</h1></header><p>En beskrivelse av hvordan UiOs integrasjonsarkitektur ble satt opp, fra 2017.</p><p>UiOs integrasjonsarkitektur har implikasjoner for store deler av virksomheten, men mest har den innvirkning på IT-tjenester. Her beskrives de ulike arkitekturkomponentene i integrasjonsarkitekturen, uten detaljer rundt de faktiske tjenestene som er realisert for å understøtte arkitekturen.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overordnet">Overordnet<a class="hash-link" href="#overordnet" title="Direct link to heading">​</a></h2><p>Arkitekturen har som overordnet mål om å flytte ansvaret for det å integrere på den part som ønsker å integrere. Tradisjonelt har integrasjoner ofte vært realisert ved at de ansvarlige for en datakilde har måttet generere filer basert på de data de har i kilden, får så å distribuere denne filen. På grunn av krav fra prosjekt eller applikasjonseier som ønsker data, samt et krav om ikke å lekke data, så har disse filene blitt skreddersydd for hver nye konsument. Dette er problematisk av flere årsaker:</p><ul><li>Ansvaret for å integrere ligger da hos de ansvarlige for dataene, ikke de som ønsker dem.</li><li>Neglisjerbar gjenbruksmulighet av slik eksporter.</li><li>Etterhvert som behovet for å integrere flere applikasjoner øker, så øker kompleksiteten i datakilden.</li><li>Prosjekter eller applikasjonseiere kan ikke løse integrasjon selv, de er prisgitt planer og kapasitet hos dem som er ansvarlige for datakilden.</li><li>Å flytte filer er utdatert og ineffektiv teknologi som gir dårlig datakvalitet og brukeropplevelse.</li></ul><p>Deler av arkitekturen er organisatoriske grep for å definere ansvar og sette ned regler som hele virksomheten skal følge. Selv de beste IT-tjenestene kan ikke påse at arkitekturen følges – arkitekturen må representeres i forretningssiden i virksomheten også. Siden utenforstående ikke tradisjonelt har hatt tilgang til datakilden, har integrasjoner vært forbeholdt de ansvarlige for kilden. For å endre på dette definerer denne arkitekturen styringsregler som pålegger datakildeeiere/systemeiere å tilby data via åpne grensesnitt.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modellen">Modellen<a class="hash-link" href="#modellen" title="Direct link to heading">​</a></h2><p>Den overordnede tekniske modellen som ligger til grunn for UiOs integrasjonsarkitektur, er en distribuert modell. Dette betyr at data og ansvar er distribuert i organisasjonen, men liten grad av sentralisering. Det er flere årsaker til at dette er valgt modell, men primært kommer dette av hvordan virksomheten er organisert.</p><p><img loading="lazy" alt="Bildet kan inneholde: grønn, linje, blå, sirkel, parallell." src="/assets/images/IA-distribuert-modell-07d86417c6ad644f7a7eb3a856bd53b6.png" width="1058" height="794" class="img_ev3q">
Tjenester, applikasjoner og systemer er i stor grad selvstendige og ansvarlige for å hente de data de trenger selv.</p><p>Modellen er den mest formålstjenlige – organisatoriske – for UiO, men gir også noen utfordringer:</p><ul><li>Økt risiko for varierende teknologi og grensesnitt foran applikasjoner</li><li>Ingen sentral oversikt</li><li>Ingen sentral kontroll</li><li>Ingen gevinster gjennom sentralisering og stordrift</li></ul><p>For å adressere disse utfordringene er det definert noen styringsregler og støttestjenester.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="webservice-ws">Webservice (WS)<a class="hash-link" href="#webservice-ws" title="Direct link to heading">​</a></h3><p>En webservice er et teknisk grensesnitt som følger bestemte bransjenormer. Gjennom UiO:IntArk har et sett med styringsregler blitt vedtatt for å standardisere hvordan tjenester og applikasjoner tilbyr grensesnitt. Hensikten med dette er å standardisere der det er hensiktsmessig, uten å begrense handlingsrom og innovasjon ute blant tjeneste- og applikasjonseiere. Det foreligger også en veiledning om hvordan man vurderer en eksisterende WS eller designer en.</p><p>​</p><p><img loading="lazy" alt="Bildet kan inneholde: blå, linje, diagram." src="/assets/images/ws-forklart-cf592fdf5080d788babbbc4fed9e21a9.png" width="866" height="428" class="img_ev3q">
En kilde tilbyr sine data gjennom en WS. Konsumenter gis muligheten til å hente de data de trenger.</p><p>En WS som tilbyr et RESTful API gir fordeler:</p><ul><li>Bransjestandard</li><li>Gjenbrukbar funksjonalitet</li><li>Fremmer heller enn hemmer innovasjon</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-manager">API manager<a class="hash-link" href="#api-manager" title="Direct link to heading">​</a></h3><p>En API manager er en tjeneste som har til ansvar å kontrollere tilganger til tjenesters WS-er. Det å implementere full tilgangskontroll til API-er er en anselig ekstrakostnad for applikasjonsforvaltere som skal tilby en WS. Uten tilgangskontroll vil WS-en tilby alle data for alle.</p><p><img loading="lazy" alt="Bildet kan inneholde: tekst, linje, diagram." src="/assets/images/api-tilgang-835639dd5dd1efdbfe267a8ed5868bb2.png" width="1092" height="424" class="img_ev3q">
API manager gir begrenset tilgang til et API. De ulike konsumentene får kun tilgang til de delene av API-et som er godkjent gjennom API manager.</p><p>Tilgangskontroll til hvert enkelt API er en betydelig besparelse for applikasjonsforvaltere som er ansvarlige for WS-er, men det gir også en forenkling og en besparelse for konsumenter:</p><p><img loading="lazy" alt="Bildet kan inneholde: tekst, linje, diagram, parallell." src="/assets/images/api-tilgang2-63ec649013a570f748f2341e0c1b95e3.png" width="1036" height="514" class="img_ev3q">
En konsument forholder seg kun til API GW, mens bak GW rutes trafikken til multiple API-er.</p><p>Fordi all trafikk mellom WS og konsument går gjennom API manager så adresserer man flere av utfordringene med den valgte modellen:</p><ul><li>Sentral oversikt over integrasjoner</li><li>Sentral kontroll over integrasjoner</li><li>Stordriftsfordeler ved at tilgangskontroll av tjenester sentraliseres</li></ul><p>Gitt retningslinjene for hvordan et API skal utformes så vil man også kunne se hvordan data flyter via integrasjonene.</p><p>API manager er tilrettelagt distribuert forvaltning av API-tilganger slik at den organisatoriske modellen etterleves selv om API manager er en sentral komponent. Dette vil si at applikasjonsforvaltere selv forvalter tilganger til API-er og data i API manager.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="meldingskø-mq">Meldingskø (MQ)<a class="hash-link" href="#meldingskø-mq" title="Direct link to heading">​</a></h3><p>Meldingskøen – MQ – er en tjeneste for å fortelle om endringer. WS brukes for å hente data (evt. skrive), men dette løser ikke de situasjoner der en applikasjon skal fortelle at en endring har skjedd. Man kunne skissert en løsning der applikasjonen skulle sendt endringen til alle WS-er rundt omkring, men dette er ikke generelt nok og det undergraver prinsippet om å la de som skal integrere, gjøre integrasjonen selv.</p><p>Løsningen er å tilby en sentral meldingskø der produsenter sender notifikasjoner om endringer på sine data. Produsenten vet ingenting om eventuelle konsumenter av disse notifikasjonene og forholder seg kun til MQ.</p><p><img loading="lazy" alt="Bildet kan inneholde: diagram, linje, teknologi." src="/assets/images/mq-flyt-d61a42ce065ae6cd07265e1b786e6561.png" width="1024" height="510" class="img_ev3q">
Tre kilder sender inn notifikasjoner til MQ. Tre konsumenter henter notifikasjoner. Konsumenten nede til høyre konsumerer enkelte notifikasjoner fra alle tre produsenter.</p><p>MQ vil ta ansvar for mye av logistikken rundt notifikasjoner. Hendelses-basert kommunikasjon er komplekst med flere utfordringer:</p><ul><li>Oversikt over alle køer og notifikasjoner</li><li>Tilgang til køer og notifikasjoner</li><li>Oppetidskrav og redundans</li></ul><p>MQ løser i stor grad disse problemene og gjør at produsenter kan forenkle notifikasjonsutveksling.</p><p>I UiO:IntArk er innholdet i notifikasjoner også regulert. Notifikasjoner sendes typisk ikke ut uten innhold, men for MQ så er notifikasjoner tenkt brukt kun som et varsko på at konsumenter skal undersøke WS for oppdateringer. Det er flere årsaker til dette, men de viktigste er:</p><ul><li>En notifikasjon blir aldri komplett. Data er sammensatte og en endring på et fakultet kan få implikasjoner for tilhørighetene til personer tilknyttet fakultetet.</li><li>Datarike notifikasjoner vil måtte tilgangskontrolleres. Datafattige notifikasjoner kan publiseres nærmest fritt.</li></ul><p>En notifikasjon gjennom MQ vil typisk si noe om at en <em>entitet</em> er endret. Det vil være opp til konsumenten å finne ut hva som er endret. Notifikasjonen vil gi indikasjon på hvilken entitet som har endret en type data, men vil ikke lekke informasjon som kan identifisere en person. Notifikasjonene vil heller ikke si noe om tidligere eller nytt innhold i data som er endret.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hvordan-modellen-fungerer">Hvordan modellen fungerer<a class="hash-link" href="#hvordan-modellen-fungerer" title="Direct link to heading">​</a></h2><p>Arkitekturen legger opp til å sentralisere tjenester som er nyttige, som ikke begrenser handlingsrommet til applikasjonsforvaltere eller prosjekter, og som effektiviserer integrasjon på UiO. Det er ikke nødvendigvis slik at alle applikasjoner vil måtte forholde seg til alle komponenter i arkitekturen, det er styrt av integrasjonsbehovet for applikasjonen.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provisjonering--need-to-know">Provisjonering – Need to Know<a class="hash-link" href="#provisjonering--need-to-know" title="Direct link to heading">​</a></h3><p>Provisjonering er det å sende en mengde data fra en applikasjon til en annen. Hvorfor man ønsker å gjøre dette kan være mange, men tradisjonelt har man basert integrasjoner på provisjonering fordi integrasjoner har vært tunge, filbaserte batch-oppdateringer. Man har laget store filer med komplette datasett, flyttet disse til konsumenten og der sammenligner man den store filen med konsumentens database for å se etter endringer. Dette er ikke en effektiv måte å integrere på. Isteden kan slik provisjonering være hendelsesdrevne:</p><p><img loading="lazy" alt="Bildet kan inneholde: diagram, linje, tekst." src="/assets/images/ws-mq-sirkel-4bd045e962bb27a031ce3cb8a351aca0.png" width="814" height="434" class="img_ev3q">
En entitet X oppdateres i Kilde. Kilde sender en notifikasjon til MQ om at entitet X er oppdatert. MQ sender en notifikasjon til konsumenter som abonnerer på denne typen notifikasjoner om at entitet X er oppdatert. Konsument vet ingenting om hva endringer består i, så Konsument kontakter API manager for å få tilgang til Kildens WS for å spørre om data om entitet X.</p><p>Mange applikasjoner, som i dag er baserte på gamle integrasjoner med provisjonering, trenger ikke å provisjonere data i den nye arkitekturen. Likevel er det et behov for provisjonering i de tilfeller der man lager moderne applikasjoner og integrasjoner. Eksempel: Når en ny person registreres i HR-systemet så er ikke HR-systemet ansvarlig for å utstede en brukerkonto til personen. Dette er IAM-kjernen (tidligere BAS, IdM) ansvarlig for. IAM-kjernen vet ikke at det er registrert en ny person i HR-systemet før HR-systemet gir beskjed. IAM-kjernen vil ikke kopiere alle data om personen fra HR-systemet, men den trenger data om personen for å lage en brukerkonto til vedkommende og da vil IAM-kjernen provisjonere noe data. IAM-kjernen vil beholde oversikt over hvem som er eier for brukerkonti f.eks. Disse eierne er provisjonert fra HR-systemet.</p><p>Man kan tenke seg et annet eksempel der flyten er lik som i figuren over, men man ikke provisjonerer – integrasjonen er basert på Need to Know. Forskjellen på provisjonering og Need to Know ligger i om konsumenten lagrer kopier av data fra kilden i sine datalagre. Distinksjonen mellom de to er minimal, men generelt skal man forsøke å unngå mellomlagring av data fra et kildesystem og heller hente disse dataene fra kilden ved behov. Av ulike årsaker kan dette vise seg vanskelig så provisjonering vil forekomme også i den nye arkitekturen.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="forskjell-fra-difis-enotifikasjon">Forskjell fra DiFis eNotifikasjon<a class="hash-link" href="#forskjell-fra-difis-enotifikasjon" title="Direct link to heading">​</a></h4><p>Selv om <em>Need to know</em> kan ligne veldig på eNotifikasjon-mønsteret fra DiFis <a href="https://doc.difi.no/nasjonal-arkitektur/nab_referanse_arkitekturer_datautveksling/" target="_blank" rel="noopener noreferrer">referansearkitektur for datautveksling</a>, er det til dels store avvik i mønstrene:</p><table><thead><tr><th></th><th>Need To Know</th><th>eNotifikasjon</th></tr></thead><tbody><tr><td>1</td><td>Får tilsendt en notifikasjon.<br><br>Konsumenten kan være tilstandsløs, da konsumenten ikke trenger å ha begrep om hvilke notifikasjoner som er prosessert.</td><td>Må hente en liste over notifikasjoner.<br><br><br>Konsumenten må lagre tilstand, da eNotifikasjon-mønsteret forutsetter at konsumenter vet hvilke notifikasjoner som er prosessert.</td></tr><tr><td>2</td><td>Notifikasjonen inneholder kun nok informasjon til å identifisere hva som har endret seg.<br><br><br>Konsumenten må utføre <a href="https://doc.difi.no/nasjonal-arkitektur/nab_referanse_arkitekturer_datautveksling/#_eoppslag_generelt_arkitekturm%C3%B8nster" target="_blank" rel="noopener noreferrer">eOppslag</a> mot kildesystem før det kan avgjøres om det skal utføres en operasjon.</td><td>Notifikasjonen inneholder informasjon om hva som har endret seg, og en identifikator til et <em>hendelsesdokument</em> som inneholder endrede data.<br><br><br>eNotifikasjonen bærer nok data til å avgjøre om det skal utføres en operasjon.</td></tr><tr><td>3</td><td>Rekkefølgen notifikasjoner ankommer i er ikke garantert å være velordnet og sekvensiell.</td><td>Rekkefølgen notifikasjoner ankommer i er alltid velordnet og sekvensiell.</td></tr><tr><td>4</td><td>Ingen autorisasjon er nødvendig da notifikasjoner kun har informasjon om <em>hva</em> som er endret. Produsenter har ikke begrep om hvem som er konsumenter.</td><td>Autorisasjon kan være nødvendig da notifikasjoner kan inneholde data.<br><br><br>I tilfeller der autorisasjon er nødvendig, må produsenter ha et begrep om hvem som skal kunne konsumere hvilke data.</td></tr><tr><td>5</td><td>Need To Know er en implementasjon av <a href="https://www.enterpriseintegrationpatterns.com/patterns/conversation/FireAndForget.html" target="_blank" rel="noopener noreferrer">Fire And Forget</a> og <a href="https://doc.difi.no/nasjonal-arkitektur/nab_referanse_arkitekturer_datautveksling/#_eoppslag_generelt_arkitekturm%C3%B8nster" target="_blank" rel="noopener noreferrer">eOppslag</a> mønstrene.</td><td>eNotifikasjon er en implementasjon av <a href="https://martinfowler.com/eaaDev/EventSourcing.html" target="_blank" rel="noopener noreferrer">Event Sourcing</a> mønsteret.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="modulære-applikasjoner">Modulære applikasjoner<a class="hash-link" href="#modulære-applikasjoner" title="Direct link to heading">​</a></h3><p>Integrasjonsarkitekturen legger også opp til mer modulære tjenester som er satt sammen av ulike applikasjoner (eller deler av applikasjoner). Under <em>Provisjonering</em> beskrives en dataflyt mellom to applikasjoner fordi konsumenten skal agere på endringer i produsentens data. Man kan tenke seg scenarier der man ikke anser tjenester eller applikasjoner som så separate, men heller at applikasjoner <em>sammen</em> utgjør en tjeneste.</p><p><img loading="lazy" alt="Bildet kan inneholde: tekst, linje, diagram." src="/assets/images/datalager-7a148c7f255482d72e1b8b8a14c37025.png" width="566" height="810" class="img_ev3q">
Isteden for å flytte data fra Kilde til sine interne datalager så kommuniserer tjenesten med Kilde i sanntid ved behov.</p><p>Et eksempel på en produsent som vil være attraktiv for mange tjenester er e-posttjenesten. Ved å integrere e-posttjensten i f.eks. læringsplattformen får studenter en bedre og mer innholdsrik arbeidsflate. LMS-et kan benytte e-post- og kalendertjenesten for meldinger mellom studenter og forelesere, eller kollokvie- og undervisningsgrupper. Mer tradisjonell integrasjon ved å kopiere data vil gi dårligere brukeropplevelse og kompleksitetsproblemer ved en eventuell synkronisering mellom LMS-et og e-posttjenesten.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sammendrag">Sammendrag<a class="hash-link" href="#sammendrag" title="Direct link to heading">​</a></h2><p>UiOs integrasjonsarkitektur er en standardisering av prosess og teknikk for å effektivisere integrasjoner. Standardisering er, som kjent, et tveegget sverd. Det strømlinjeformer slik at aktiviteter blir mer effektive, men strømlinjeformingen hindrer også innovasjon og handlingsrom. Tanken bak UiO:IntArk har hele tiden vært å standardisere der det er formålstjenlig og la felt som krever selvråderett være opp til applikasjonsforvaltere, utviklere og prosjekter. <em>Hva</em>man ønsker å integrere er opp til den enkelte, <em>hvordan</em> man integrerer stilles det krav til.</p><p>Det å basere arkitekturen på bransjestandard teknologi og inkludere de organisatoriske utfordringene som noe arkitekturen skal adressere har resultert i en arkitektur som posisjonerer UiO i forhold til bransjen, men ikke på bekostning av autonomi. Arkitekturen vil kunne erstatte protokoller og tjenester etterhvert som bransjen utvikler seg, men uten å måtte omskrive hele arkitekturen. Store systemer kan oppstå og legges ned uten at arkitekturen påvirkes nevneverdig.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/sikt-no/docs/tree/master/docs/datadeling/erfaringer/uio/om-uio-arkitekturmodell.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-03T09:49:45.000Z">Mar 3, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/datadeling/erfaringer/uib/uib-iga-naming"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">UiB sine føringer for navngivning</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/datadeling/erfaringer/uio/portefolje"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tjenesteportefølje</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overordnet" class="table-of-contents__link toc-highlight">Overordnet</a></li><li><a href="#modellen" class="table-of-contents__link toc-highlight">Modellen</a><ul><li><a href="#webservice-ws" class="table-of-contents__link toc-highlight">Webservice (WS)</a></li><li><a href="#api-manager" class="table-of-contents__link toc-highlight">API manager</a></li><li><a href="#meldingskø-mq" class="table-of-contents__link toc-highlight">Meldingskø (MQ)</a></li></ul></li><li><a href="#hvordan-modellen-fungerer" class="table-of-contents__link toc-highlight">Hvordan modellen fungerer</a><ul><li><a href="#provisjonering--need-to-know" class="table-of-contents__link toc-highlight">Provisjonering – Need to Know</a></li><li><a href="#modulære-applikasjoner" class="table-of-contents__link toc-highlight">Modulære applikasjoner</a></li></ul></li><li><a href="#sammendrag" class="table-of-contents__link toc-highlight">Sammendrag</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Sikt Docs</div><ul class="footer__items clean-list"><li class="footer__item"><p>Teknisk dokumentasjon på fellesløsningene Sikt leverer for utdanning og forskning.</p></li></ul></div><div class="col footer__col"><div class="footer__title">Hvordan bidra?</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-directly-from-the-web-browser" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet fra nettleseren</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-locally" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet lokalt</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Opprette en issue i GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">Kontaktinformasjon</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://sikt.no/kontakt-oss" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kontakt oss</a></li><li class="footer__item"><a href="https://sikt.no/om-sikt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Om Sikt</a></li><li class="footer__item"><a href="https://sikt.no/personvernerklaering" target="_blank" rel="noopener noreferrer" class="footer__link-item">Personvernerklæring</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="104" height="28"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="104" height="28"></div><div class="footer__copyright">Copyright © 2023 Sikt – Kunnskapssektorens tjenesteleverandør</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2e1e1a70.js"></script>
<script src="/assets/js/main.f0faee14.js"></script>
</body>
</html>