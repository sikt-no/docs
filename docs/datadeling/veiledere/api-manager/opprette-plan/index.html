<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-datadeling/veiledere/api-manager/opprette-plan" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Opprette plan | Sikt teknisk dokumentasjon</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.sikt.no/docs/datadeling/veiledere/api-manager/opprette-plan"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Opprette plan | Sikt teknisk dokumentasjon"><meta data-rh="true" name="description" content="En plan kan sees på som et sett med rettigheter til et API."><meta data-rh="true" property="og:description" content="En plan kan sees på som et sett med rettigheter til et API."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.sikt.no/docs/datadeling/veiledere/api-manager/opprette-plan"><link data-rh="true" rel="alternate" href="https://docs.sikt.no/docs/datadeling/veiledere/api-manager/opprette-plan" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.sikt.no/docs/datadeling/veiledere/api-manager/opprette-plan" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Veiledere i IntArk","item":"https://docs.sikt.no/docs/datadeling/veiledere/"},{"@type":"ListItem","position":2,"name":"Opprette plan","item":"https://docs.sikt.no/docs/datadeling/veiledere/api-manager/opprette-plan"}]}</script><link rel="stylesheet" href="/assets/css/styles.50a669a0.css">
<script src="/assets/js/runtime~main.a12ab397.js" defer="defer"></script>
<script src="/assets/js/main.eca16f7c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/sikt_logo.svg"><link rel="preload" as="image" href="/img/sikt_logo_white.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/sikt_logo.svg" alt="Sikt logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/sikt_logo_white.svg" alt="Sikt logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">teknisk dokumentasjon</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/datadeling/">Datadeling</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/">Fellestjeneste for Datadeling (IntArk)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/om/">Hva er Fellestjenesten for Datadeling (IntArk)?</a><button aria-label="Expand sidebar category &#x27;Hva er Fellestjenesten for Datadeling (IntArk)?&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/teknisk-plattform/">IntArk sin tekniske plattform</a><button aria-label="Expand sidebar category &#x27;IntArk sin tekniske plattform&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/begreper/">Begreper i IntArk</a><button aria-label="Expand sidebar category &#x27;Begreper i IntArk&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/erfaringer/">Erfaringer fra bruk av IntArk</a><button aria-label="Expand sidebar category &#x27;Erfaringer fra bruk av IntArk&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/faq">Spørsmål og svar</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/god-praksis/">God praksis i fellestjenesten for Datadeling</a><button aria-label="Expand sidebar category &#x27;God praksis i fellestjenesten for Datadeling&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/kode">Kode som bruker IntArk</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/datadeling/malgrupper/anskaffer/">malgrupper</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/prinsippene">Integrasjonsprinsippene for IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/styringsregler">Styringsreglene til IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/unntak">Unntakshåndtering</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/datadeling/veiledere/">Veiledere i IntArk</a><button aria-label="Collapse sidebar category &#x27;Veiledere i IntArk&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/innforing">Kom i gang</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/datadeling/veiledere/annet/anskaffelse/">annet</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/datadeling/veiledere/api-manager/api-manager-be-om-tilgang">api-manager</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/api-manager-be-om-tilgang">Få tilgang til et API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api">Registrere et enkelt API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/api-tilganger">Forvaltning av tilganger til API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/backend">Konfigurere backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/caching-gravitee">Caching i gravitee</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/filtrere-innhold-json">Filtrere bort innhold i responsen fra et API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/godkjenne-tilgang-til-api">Godkjenne tilgang til API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/importer-api">Importer API-oppsett fra fil</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/jwt-mot-backend">Backend-autentisering med JWTs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/legge-pa-enkel-policy">Legge på en enkel policy (IP filter)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/maskinporten-autentisering">Konfigurere autentisering via maskinporten </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/datadeling/veiledere/api-manager/opprette-plan">Opprette plan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/rettigheter-og-roller-i-api-manager">Rettigheter, roller og grupper i API Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/rolle-internrevisjon">Egne roller i Gravitee (f.eks. for innsyn)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/se-bruk-av-api">Se bruken av ditt API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/veiledere/api-manager/varsling-for-api-eiere">Varsling av nye subscriptions o.l.</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/datadeling/veiledere/meldingskø/opprett-tjeneste">meldingskø</a></div></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Datadeling</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/datadeling/veiledere/"><span>Veiledere i IntArk</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">api-manager</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Opprette plan</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Opprette plan</h1></header><p>En plan kan sees på som et sett med rettigheter til et API.</p>
<p>Det kan være rettigheter for hvilke paths man har lov til å bruke, om man har bare leserrettigheter, eller både lese- og skriverettigheter, eller hvor ofte du har lov til å spørre mot API-et.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="opprette-plan">Opprette plan<a href="#opprette-plan" class="hash-link" aria-label="Direct link to Opprette plan" title="Direct link to Opprette plan">​</a></h2>
<p>Under APIs, gå først til Portal i den venstre sidemenyen og deretter Plans. Lag ny plan ved å trykke på det blå plusstegnet.</p>
<p>Du blir så tatt gjennom veiviseren for å opprette/endre en plan. I eksemplene under lager vi planer for <a href="https://petstore3.swagger.io/" target="_blank" rel="noopener noreferrer">test-APIet petstore</a>.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20200928124644-1-b1764559e7b57ce2198043795e54e56c.png" width="838" height="374" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="opprette-plan-med-mange-rettigheter">Opprette plan med mange rettigheter<a href="#opprette-plan-med-mange-rettigheter" class="hash-link" aria-label="Direct link to Opprette plan med mange rettigheter" title="Direct link to Opprette plan med mange rettigheter">​</a></h2>
<p>På første side, fyll inn navn og en beskrivelse.</p>
<p>I tillegg må det gjøres et par andre valg:</p>
<ul>
<li>Auto validate subscription betyr at alle som ber om tilgang får det
automatisk, men i motsetning til en åpen plan må de registrere applikasjonen</li>
<li>Skru på &quot;Consumer must provide a comment&quot; om du vil kreve at det blir skrevet
en kommentar for å få spurt om tilgang</li>
<li>I tekstfeltet &quot;Custom message to display to consumer&quot; er det mulig å legge
inn en kort tekst hvor man f.eks. kan be om spesifikk informasjon</li>
<li>Under Characteristics kan man legge inn noen stikkord for å beskrive planen,
f.eks. &quot;åpne data&quot; om planen kun gir tilgang til det, &quot;read only&quot; om kun
leserrettigheter, &quot;read/write&quot; om planen gir tilgang til å legge inn data i
API-et o.l</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Illustrasjon av.. noko" src="/assets/images/image-20200928150931-1-b2011347466eb35da08f6ef633e87aa7.png" width="1103" height="818" class="img_ev3q"></p>
<p>På neste side velger man hvilken metode API-et skal være sikret med, dersom dette er relevant.</p>
<p>Man kan velge å ha det helt åpent,public/keyless, eller bruke API-nøkkel, JWT eller OAuth 2.</p>
<p>I dette eksempelet brukes API nøkkel. Man kan velge å sende API-nøkkelen med videre til backend. Ikke valgt i dette eksempelet, headeren med api-nøkkel blir derfor ikke fjernet.</p>
<p><img decoding="async" loading="lazy" alt="Illustrasjon av.. noko" src="/assets/images/image-20200928152040-3-ee8bbebbe3c5a75f231f40c3df064ca9.png" width="538" height="519" class="img_ev3q"></p>
<p>I neste skjermbilde kan man velge å legge restriksjoner på hva man får lov til å gjøre med denne planen. <a href="#restrictions">Se lenger ned for eksempler</a>.</p>
<p>På siste side kan man legge på policyer på enkeltplaner. Det anbefales ikke om man kan unngå det, men noen ganger er det nødvendig. Prøv i så fall å ha så få som mulig her. Det er bare å velge policy, klikke på &quot;ADD&quot; og konfigurere denne. Om man legger på flere blir den neste lagt til på slutten. Man kan ikke endre rekkefølge i etterkant slik som når man endrer på policyer for hele API-et.</p>
<p>For å lagre planen, trykk på &quot;SAVE&quot;.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20200928155158-6-4c445ae3447bd4cc2cba507e23addc72.png" width="847" height="288" class="img_ev3q"></p>
<p>Planer blir først opprettet i Staging-området. Det er da ikke mulig å abbonnere på dem. På denne måten kan man opprette planer og dobbeltsjekke at de ble konfigurert riktig før man publiserer dem. Når du oppretter en plan før den er publisert vil du derfor kunne ikke se den. Klikk på &quot;Staging&quot; for å se planer som ikke er publisert.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20200928155423-7-2dc2c7cdee2572daa61358b3e8a898e0.png" width="530" height="497" class="img_ev3q"></p>
<p>For å gjøre en plan tilgjengelig klikk på det lille sky-ikonet med oppover-pil. <img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAAAcCAYAAAA6EgJRAAAABHNCSVQICAgIfAhkiAAAA31JREFUWEftlk1ME0EUx/+0KkGlBTRW8CNWiG0CJfHgx0HkAhfBCJoQ4eZNvavx4NGLno1exJOQgAoGmsjBRAKGQA8mbSU2FipigRIRKNJCpdV9azZsd2e3A9QDZl/SNDv7Zt7Mb//vvclJJBK/YZhIwGRwWCdgwJCpwYDxr2EEAgF4PJ5tl4E7sr1jr9eL3t5ecdlIJIL6+nquECOh7/CHFxBPrKFwTy4OFezGaft+5O0yc83PhlPWYcg3RWCsViuqqqo09xpeiKF1IIgfy6synyWQrvr8YVw9Y0fl4ULN+dKLxecvEBscQfHjB5q+mXyyVjNCoRA6OztRXl6epoaVlRXNzc39XMWjt58UINbd47+SeDYYBAHLZLGBYUTbXmL6xm2mK4GYuXkHq96PSC0sMn2yogwC0dHRgWQyKf43NTWJwSYmJlBbW6sKHE8kEZyN4o1/CnRguZUeyMfY7FLaGCnn3sVK1TrygeInD8VHAkImV4gEIrfCiaPuNpgKrMy1crZ66aJi2d3dLYKQzG63i0DMZnW+B4WDtg58VkGguaeO7UPL2eOg+tE+HErb8LVzZVzpMn39FqLtr2BpuSIC4QVBwbakDALR1dWFVCrFJK0cpLTIBILmUOEkkwOhdHEJteP8CRvKBPVomVwha1+/CXVkGJkUIa21aWVogdBTxVPhQP5v86pzSIpQvmAphHx4VDJ5oRmx9yMwWS0o9b7TTA15zE0VUC0QDodDMz0o6NS8uhDm7TSjaG+uUD/CaSwIBHWYEqHFKu31h0nlUNqz2DUIhCUfqcUoInfv6/pLLzcMQw9EY2Mjs05IwdLb599RKqB9QiGln9wIBo1NMToJax1prrxGlPr6YWm+rNtl5DE3VDN8Ph/cbreqRpAiCITJpM+2pCBPOFyc6yttxolVLPW6jDIGN4zR0VH09PQo58PpdKKhoSEjCJpY7Tio6hLyBeWpMr+cUMWSBoqEG6rSWCAkH14g3DDGxsaU8UGK4AVBk6lLBCNReL7MqdaiAWWqMJ2EwUsnj6he0aVLr2tIQKRLF+uuwd1NSBWUJpK5XC7U1dVxKUK5c6oH/YGZDadMhdBaq3VaK90sWYeUx9fz4YYxNDSE8fFxcV2bzYaamhrlGbf9MzeMbX9SjgPol3+OBf4nFwOG7GsaMAwY7OQ2lGEow1AGm4ChDDaXPwhaqigoXamEAAAAAElFTkSuQmCC" width="67" height="28" class="img_ev3q"> Den er nå tilgjengelig i portalen og applikasjoner kan spørre om tilgang. Det  er fremdeles ikke mulig å bruke planen Klikk på deploy for å dytte ut konfigurasjonen av denne planen til gatewayen.</p>
<p>For å endre en plan, klikk på blyant-ikonet for å redigere. Man må gå gjennomhele veiviseren på nytt, men du trenger kun å endre det som skal endres.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="avslutte-planer">Avslutte planer<a href="#avslutte-planer" class="hash-link" aria-label="Direct link to Avslutte planer" title="Direct link to Avslutte planer">​</a></h2>
<p>For å gjøre en plan utilgjengelig for nye abonneneter gjør man dem Deprecated. Eksisterende abonnenter vil fortsette å fungere, men nye applikasjoner som vil bruke API-et må velge en annen plan. Ved å lukke planen vil eksisterende abonnement slutte å fungere.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="opprette-plan-med-få-rettigheter-og-begrensning-av-bruk">Opprette plan med få rettigheter og begrensning av bruk<a href="#opprette-plan-med-få-rettigheter-og-begrensning-av-bruk" class="hash-link" aria-label="Direct link to Opprette plan med få rettigheter og begrensning av bruk" title="Direct link to Opprette plan med få rettigheter og begrensning av bruk">​</a></h2>
<p>Trykk på plusstegnet på siden for Plans for å opprette ny plan.</p>
<p>Fyll inn navn, beskrivelse og velg autentiseringmetode på de to første sidene.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hvitelisting">Hvitelisting<a href="#hvitelisting" class="hash-link" aria-label="Direct link to Hvitelisting" title="Direct link to Hvitelisting">​</a></h3>
<p>På side 3, Restrictions, huk av for Path Authorization. I dette eksempelet bruker vi fremdeles Pet Store-API-et, og vi vil bare tillate abonnenter å lese informasjon om kjæledyr. For å oppnå dette hvitelister vi en path. Trykk på &quot;+ Add&quot; under whitelist for å lage en ny, og fyll inn path pattern og tillatte metoder. F.eks. /pet/** som path og huke av for GET for å gi leserettigheter til kjæledyr.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20200930180731-1-70b8a67a7c3eeb2737af02a431ae96af.png" width="990" height="517" class="img_ev3q"></p>
<p>Du kan legge på så mange path pattern i hvitelist som du vil. Når du har lagt inn en eller flere hvitelister vil alle andre paths være svartelistet. Tilsvarende til alle endre være godkjente om du svartelister en eller flere path.</p>
<p>Det fungerer ikke å kombinere svartelister og hvitelister. Om begge typer er definert vil kun hvitelistene fungere.</p>
<p>Methods som blir brukt her blir også kalt HTTP verbs.</p>
<p>Path patterns som blir brukt er <a href="http://ant.apache.org/" target="_blank" rel="noopener noreferrer">Ant Path Patterns</a>. De fungerer slik:</p>
<ul>
<li>? betyr et tegn (men ikke / )</li>
<li>
<ul>
<li>betyr null eller flere tegn (men ikke / )</li>
</ul>
</li>
<li>** betyr null eller flere mappe-segmenter</li>
</ul>
<p>Om du vil vite mer om Ant Patterns er <a href="https://confluence.atlassian.com/fisheye/pattern-matching-guide-960155410.html" target="_blank" rel="noopener noreferrer">denne veiledningen god,</a> det finnes også <a href="http://ant.apache.org/manual/dirtasks.html#patterns" target="_blank" rel="noopener noreferrer">offisiell dokumentasjon</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="svartelisting">Svartelisting<a href="#svartelisting" class="hash-link" aria-label="Direct link to Svartelisting" title="Direct link to Svartelisting">​</a></h3>
<p>I dette eksempelet har man lov til å bruke API-et så mye man vil og man har tilgang til alle ressurser bortsett fra å slette ordre. Det er gjort ved å svarteliste path/store/order med http-method (HTTPS verb) DELETE. Om man vil svarteliste all tilgang til ordre huker man av alle.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20201001130341-3-fa8bd80def0416aa0cf48b91bd92fe0d.png" width="974" height="603" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rate-limiting">Rate-Limiting<a href="#rate-limiting" class="hash-link" aria-label="Direct link to Rate-Limiting" title="Direct link to Rate-Limiting">​</a></h3>
<p>I tillegg til å begrense hvilke ressurser som er tilgengelig via API-et kan man
også begrense hvor ofte en konsument kan kontakte et API. Det gjøres med
Rate-limiting eller kvoter (Quota). Kvoter er mest brukt for API-er man betaler
for. Rate-limiting brukes også ofte på betal-API-er hvor det er mindre
begrensninger jo mer man betaler. Rate-limiting kan også brukes for å beskytte
et API om backend-serveren har ytelsesproblemer.</p>
<p>Skjermbilde av eksempel hvor man tillater to forespørsler per minutt:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20201001125524-1-6b8823c320faa30bb835cac57619d503.png" width="955" height="472" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/sikt-no/docs/tree/master/docs/datadeling/veiledere/api-manager/opprette-plan.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-09-24T11:14:07.000Z" itemprop="dateModified">Sep 24, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/datadeling/veiledere/api-manager/maskinporten-autentisering"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Konfigurere autentisering via maskinporten </div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/datadeling/veiledere/api-manager/rettigheter-og-roller-i-api-manager"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rettigheter, roller og grupper i API Manager</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#opprette-plan" class="table-of-contents__link toc-highlight">Opprette plan</a></li><li><a href="#opprette-plan-med-mange-rettigheter" class="table-of-contents__link toc-highlight">Opprette plan med mange rettigheter</a></li><li><a href="#avslutte-planer" class="table-of-contents__link toc-highlight">Avslutte planer</a></li><li><a href="#opprette-plan-med-få-rettigheter-og-begrensning-av-bruk" class="table-of-contents__link toc-highlight">Opprette plan med få rettigheter og begrensning av bruk</a><ul><li><a href="#hvitelisting" class="table-of-contents__link toc-highlight">Hvitelisting</a></li><li><a href="#svartelisting" class="table-of-contents__link toc-highlight">Svartelisting</a></li><li><a href="#rate-limiting" class="table-of-contents__link toc-highlight">Rate-Limiting</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Sikt Docs</div><ul class="footer__items clean-list"><li class="footer__item"><p>Teknisk dokumentasjon på fellesløsningene Sikt leverer for utdanning og forskning.</p></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Hvordan bidra?</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-directly-from-the-web-browser" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet fra nettleseren</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-locally" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet lokalt</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Opprette en issue i GitHub</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Kontaktinformasjon</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://sikt.no/kontakt-oss" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kontakt oss</a></li><li class="footer__item"><a href="https://sikt.no/om-sikt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Om Sikt</a></li><li class="footer__item"><a href="https://sikt.no/personvernerklaering" target="_blank" rel="noopener noreferrer" class="footer__link-item">Personvernerklæring</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="104" height="28"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="104" height="28"></div><div class="footer__copyright">Copyright © 2025 Sikt – Kunnskapssektorens tjenesteleverandør</div></div></div></footer></div>
</body>
</html>