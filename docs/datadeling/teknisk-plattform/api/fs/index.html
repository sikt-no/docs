<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-datadeling/teknisk-plattform/api/fs" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Felles Studentsystem - FS-API | Sikt teknisk dokumentasjon</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.sikt.no/docs/datadeling/teknisk-plattform/api/fs"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Felles Studentsystem - FS-API | Sikt teknisk dokumentasjon"><meta data-rh="true" name="description" content="Hjelp til oppsett av Felles Studentsystem sitt FS-API."><meta data-rh="true" property="og:description" content="Hjelp til oppsett av Felles Studentsystem sitt FS-API."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.sikt.no/docs/datadeling/teknisk-plattform/api/fs"><link data-rh="true" rel="alternate" href="https://docs.sikt.no/docs/datadeling/teknisk-plattform/api/fs" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.sikt.no/docs/datadeling/teknisk-plattform/api/fs" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.fc42a4b9.css">
<script src="/assets/js/runtime~main.4ff87c9c.js" defer="defer"></script>
<script src="/assets/js/main.a407e9a2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/sikt_logo.svg" alt="Sikt logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/sikt_logo_white.svg" alt="Sikt logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">teknisk dokumentasjon</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/datadeling/">Datadeling</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/">Fellestjeneste for Datadeling (IntArk)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/om/">Hva er Fellestjenesten for Datadeling (IntArk)?</a><button aria-label="Expand sidebar category &#x27;Hva er Fellestjenesten for Datadeling (IntArk)?&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/datadeling/teknisk-plattform/">IntArk sin tekniske plattform</a><button aria-label="Collapse sidebar category &#x27;IntArk sin tekniske plattform&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/oversikt">Oversikt over den tekniske plattformen</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/datadeling/teknisk-plattform/api/dfo-sap">api</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/api/dfo-sap">DFØ SAP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/api/digdir">Digdir Folkeregisteret og KRR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/datadeling/teknisk-plattform/api/fs">Felles Studentsystem - FS-API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/api/inspera">Inspera</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/api/integra">Integra</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/api/maskinporten">Maskinporten som token-tjeneste i Gravitee</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/api/rolf-api">Rolf - rolleregister</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/brom">Selvbetjening for RabbitMQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/gravitee">Gravitee</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/infrastruktur">Infrastrukturen til IntArks tekniske plattform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/prosessene">Prosessene for teknisk plattform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/teknisk-plattform/rabbitmq">RabbitMQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/begreper/">Begreper i IntArk</a><button aria-label="Expand sidebar category &#x27;Begreper i IntArk&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/erfaringer/">Erfaringer fra bruk av IntArk</a><button aria-label="Expand sidebar category &#x27;Erfaringer fra bruk av IntArk&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/faq">Spørsmål og svar</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/god-praksis/">God praksis i fellestjenesten for Datadeling</a><button aria-label="Expand sidebar category &#x27;God praksis i fellestjenesten for Datadeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/kode">Kode som bruker IntArk</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/datadeling/malgrupper/anskaffer/">malgrupper</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/prinsippene">Integrasjonsprinsippene for IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/styringsregler">Styringsreglene til IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/unntak">Unntakshåndtering</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/datadeling/veiledere/">Veiledere i IntArk</a><button aria-label="Expand sidebar category &#x27;Veiledere i IntArk&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Datadeling</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/datadeling/teknisk-plattform/"><span itemprop="name">IntArk sin tekniske plattform</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">api</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Felles Studentsystem - FS-API</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Felles Studentsystem - FS-API</h1>
<p>Hjelp til oppsett av Felles Studentsystem sitt FS-API.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="om-api-et">Om API-et<a href="#om-api-et" class="hash-link" aria-label="Direct link to Om API-et" title="Direct link to Om API-et">​</a></h2>
<p>Felles Studentsystem er en fellestjeneste i sektoren. Hver institusjon har sin instans, men FS leverer et felles REST API for alle institusjoner, der hver institusjon får ut <strong>sine studiedata</strong>.</p>
<p>Se <a href="https://www.fellesstudentsystem.no/" target="_blank" rel="noopener noreferrer">fellesstudentsystem.no</a> for mer informasjon om tjenesten. Se mer <a href="https://www.fellesstudentsystem.no/dokumentasjon/brukerdok/fswebservice/fs-api/" target="_blank" rel="noopener noreferrer">detaljer om FS API</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="miljøer">Miljøer<a href="#miljøer" class="hash-link" aria-label="Direct link to Miljøer" title="Direct link to Miljøer">​</a></h2>
<p>Det finnes tre varianter av FS-API:</p>
<table><thead><tr><th>Miljø</th><th>URL</th></tr></thead><tbody><tr><td>Produksjon</td><td><a href="https://api.fellesstudentsystem.no/" target="_blank" rel="noopener noreferrer">https://api.fellesstudentsystem.no/</a></td></tr><tr><td>Test/Demo</td><td><a href="https://api-test.fellesstudentsystem.no/" target="_blank" rel="noopener noreferrer">https://api-test.fellesstudentsystem.no/</a></td></tr><tr><td>Utvikling</td><td><a href="https://api-utv.fellesstudentsystem.no/" target="_blank" rel="noopener noreferrer">https://api-utv.fellesstudentsystem.no/</a></td></tr></tbody></table>
<p>Besøk <code>/version</code> for å se hvilken versjon miljøet kjører.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="oppsett-av-fs-api">Oppsett av FS-API<a href="#oppsett-av-fs-api" class="hash-link" aria-label="Direct link to Oppsett av FS-API" title="Direct link to Oppsett av FS-API">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tilgang-til-fs-api">Tilgang til FS-API<a href="#tilgang-til-fs-api" class="hash-link" aria-label="Direct link to Tilgang til FS-API" title="Direct link to Tilgang til FS-API">​</a></h3>
<p>Du som er lokal tjenesteeier for FS må be FS sentralt om tilgang til FS-API for din institusjon.</p>
<p>Ta kontakt med <a href="mailto:fs-support@sikt.no" target="_blank" rel="noopener noreferrer">fs-support@sikt.no</a> med ønske om å få opprettet et brukernavn og passord til FS-API for databasen det er aktuelt å sette opp tilgang til (prod/demo). <em>apigateway</em> er et forslag til et beskrivende brukernavn. Denne bør ha lesetilgang til alle ressurser. Ved behov kan skrivetilganger legges på senere.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="konfigurasjon-av-fs-api-i-gravitee">Konfigurasjon av FS-API i Gravitee<a href="#konfigurasjon-av-fs-api-i-gravitee" class="hash-link" aria-label="Direct link to Konfigurasjon av FS-API i Gravitee" title="Direct link to Konfigurasjon av FS-API i Gravitee">​</a></h3>
<p>Se den <a href="/docs/datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api">generelle veilederen</a>.</p>
<ol>
<li>General: Sørg for at <em>context-path</em> tydelig peker på miljøet du setter opp API-et for, f.eks. <code>/fs-api-test</code> eller <code>/fs-api-prod</code></li>
<li>General: Sett navn og beskrivelse</li>
<li>General: Sett <em>version</em> til 1</li>
<li>Gateway: Finn URL i miljøoversikten og fyll den inn under <em>backend</em></li>
<li>Plan: Vi lager en plan som gir full lesetilgang. Senere kan det lages mer nedlåste planer.</li>
<li>Plan: Sett f.eks. navnet til <em>Full lesetilgang</em></li>
<li>Plan: Velg <em>Security type: API key</em></li>
<li>Plan: <em>Auto validate subscription</em> skal <strong>IKKE</strong> være på</li>
<li>Plan: La <em>Characteristics</em>, <em>rate limit</em> og <em>quota</em> være tomme</li>
<li>Plan: Legg til <em>Ant pattern</em> <code>/**</code> og <em>method</em> <code>GET</code></li>
<li>Doc: Hopp over dette steget. Dokumentasjon kan lastes opp senere.</li>
<li>Deployment: Velg <em>Create and start the API</em></li>
<li>Konfigurer API-et til å autentisere med brukernavnet og passordet fra steg 1</li>
<li>Følg <a href="/docs/datadeling/veiledere/api-manager/backend">veiledningen for konfigurering av backend</a></li>
<li>FS-API forventer <em>basic access authentication</em>, altså skal det settes en <em>Authorization</em>-header med en verdi som vil minne om <code>Basic YnJ1a2VybmF2bjpoZWlwYWFkZWc</code></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-av-api-et">Test av API-et<a href="#test-av-api-et" class="hash-link" aria-label="Direct link to Test av API-et" title="Direct link to Test av API-et">​</a></h3>
<ol>
<li>Følg <a href="/docs/datadeling/veiledere/api-manager/api-manager-be-om-tilgang">veiledningen for å få tilgang til et API</a> og godkjenn selv tilgangen</li>
<li>Finn API-nøkkelen som gir tilgang til FS-API og riktig <em>context-path</em></li>
<li>Sjekk at du får hentet ut en liste over emner:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl --include -H &quot;X-Gravitee-Api-Key: DIN-NØKKEL&quot; https://gw-INSTANS.intark.uh-it.no/CONTEXT-PATH/emner/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Bytt ut <em>DIN-NØKKEL</em>, <em>INSTANS</em> og <em>CONTEXT-PATH</em>.
Om du får tilbake noe som starter med &quot;HTTP 200&quot; og en JSON-formatert liste med ulike emner, fungerer alt som det skal.</li>
<li>Sjekk at API-et krever autentisering:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl --include -H &quot;X-Gravitee-Api-Key: DIN-NØKKEL&quot; https://gw-INSTANS.intark.uh-it.no/CONTEXT-PATH/emner/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Dette burde gi <code>HTTP 401</code> og <code>{&quot;message&quot;:&quot;Unauthorized&quot;,&quot;http_status_code&quot;:401}</code>.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="grunnoppsett-for-fs-gemini-api">Grunnoppsett for FS Gemini API<a href="#grunnoppsett-for-fs-gemini-api" class="hash-link" aria-label="Direct link to Grunnoppsett for FS Gemini API" title="Direct link to Grunnoppsett for FS Gemini API">​</a></h3>
<p>Dette er et grunnoppsett mot FS Gemini API&#x27;et. Oppsettet kommer med en plan til bruk sammen med ServiceNow. Det er et oppsett satt opp mot <a target="_blank" href="/assets/files/fs-gemini-prod-7651f41db455e91c30ee996fd1a14e88.json">produksjonsmiljøet</a>, samt et oppsett satt opp mot <a target="_blank" href="/assets/files/fs-gemini-preview-a20b8f7b3f4640af577411d5a3e3452d.json">utviklingsmiljøet</a>.</p>
<p><strong>Før import:</strong>
<em>Context path</em> er satt til <code>/fs/gemini</code> og <code>/preview/fs/gemini</code>. Endre eventuelt denne om man benytter en annen <em>context path</em> struktur.</p>
<p><strong>Etter import:</strong>
Oppsettet bruker <em>API properties</em> til å hente brukernavn og passord, og dette må derfor settes etter import av oppsettet:</p>
<ol>
<li>Gå til <em>Design</em> på API-menyen</li>
<li>Gå videre til <em>PROPERTIES</em> i menyen oppe til høyre</li>
<li>Legg inn bas64 encoded string av <code>bruker:passord</code> i verdifeltet til <code>fs_fsapi_api_key</code></li>
<li>Endre til <em>encrypted</em></li>
<li><strong>Husk å lagre</strong></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="konfigurasjon-av-meldingskø">Konfigurasjon av meldingskø<a href="#konfigurasjon-av-meldingskø" class="hash-link" aria-label="Direct link to Konfigurasjon av meldingskø" title="Direct link to Konfigurasjon av meldingskø">​</a></h2>
<p>Les først om <a href="/docs/datadeling/teknisk-plattform/rabbitmq">RabbitMQ</a> og (selvbetjeningsløsningen for RabbitMQ)[/docs/datadeling/teknisk-plattform/brom].</p>
<p>FS har mer <a href="https://www.fellesstudentsystem.no/dokumentasjon/brukerdok/fswebservice/fs-api/meldingsko.html" target="_blank" rel="noopener noreferrer">teknisk informasjon</a> om sin støtte for meldingskøer. Spesielt relevant er avsnittet om <em>Integrasjonspunkter</em>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="opprette-applikasjonen-i-selvbetjeningsportalen">Opprette applikasjonen i selvbetjeningsportalen<a href="#opprette-applikasjonen-i-selvbetjeningsportalen" class="hash-link" aria-label="Direct link to Opprette applikasjonen i selvbetjeningsportalen" title="Direct link to Opprette applikasjonen i selvbetjeningsportalen">​</a></h3>
<ol>
<li>Se <a href="/docs/datadeling/veiledere/meldingskø/opprett-tjeneste">veiledningen for å opprette en applikasjon i selvbetjeningsløsningen</a> ved behov.</li>
<li>Bruk <strong>FS</strong> som navn uansett hvilket miljø (prod/test) du skal sette opp. Miljøtypen blir uansett automatisk lagt på som en del av navnet. Et <em>testmiljø</em> med navn <em>FS</em> får f.eks. identifikatoren <em>system-test-fs</em>.</li>
<li>Under <em>Publisering</em>, velg <em>Registrering notfikikasjonskilde</em>
<ol>
<li>Som <em>Lenke til side med dokumentasjon</em>, bruk f.eks. <a href="https://www.fellesstudentsystem.no/dokumentasjon/brukerdok/fswebservice/fs-api/meldingsko.html" target="_blank" rel="noopener noreferrer">denne lenka</a></li>
<li>Oppgi en sentral e-postadresse til IT hos egen institusjon</li>
<li>Alle andre felt kan stå tomme</li>
</ol>
</li>
<li>Under fanen <em>Applikasjonsinfo</em> finnes nå brukernavn og passord</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="konfigurasjon-av-meldingskø-i-fs">Konfigurasjon av meldingskø i FS<a href="#konfigurasjon-av-meldingskø-i-fs" class="hash-link" aria-label="Direct link to Konfigurasjon av meldingskø i FS" title="Direct link to Konfigurasjon av meldingskø i FS">​</a></h3>
<ol>
<li>
<p>Åpne FS-klienten mot miljøet det skal settes opp meldingskø mot</p>
</li>
<li>
<p>Finn menyvalget <em>WS Tjeneste</em></p>
</li>
<li>
<p>Opprett en tjenestekode kalt <em>MQ</em> med:</p>
<ul>
<li>
<p>URL: <code>amqps:mq-INSTANS.intark.uh-it.no port:5671 vh:system-MILJØ-fs ex:outgoing_system-test-fs</code></p>
<p><em>INSTANS</em> erstattes med din institusjonskode og <em>system-MILJØ-fs</em> matcher navnet på tjenesten som er opprettet i selvbetjeningsportalen.</p>
</li>
<li>
<p>Brukernavn og passord fra selvbetjeningsportalen</p>
</li>
</ul>
</li>
<li>
<p>Opprett en tjenestekode kalt <em>WSINTERN</em> med:</p>
<ul>
<li>URL: <code>https://api.fellesstudentsystem.no</code> for produksjon, eller</li>
<li>URL: <code>https://fsapi-test.uio.no</code> for test</li>
</ul>
<p>Denne er lik URL-en til API-et hos FS, uten skråstrek på slutten.</p>
</li>
<li>
<p>Ta kontakt med <a href="mailto:fs-support@sikt.no" target="_blank" rel="noopener noreferrer">fs-support@sikt.no</a> for videre konfigurasjon på FS sin side.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-av-meldingskøoppsett">Test av meldingskøoppsett<a href="#test-av-meldingskøoppsett" class="hash-link" aria-label="Direct link to Test av meldingskøoppsett" title="Direct link to Test av meldingskøoppsett">​</a></h3>
<p>For å sjekke at meldinger kommer gjennom, bør det eksisterende en applikasjon som abonnerer på FS sine meldinger via selvbetjeningsløsningen. Abonnentet må være godkjent av en av de som står som eiere av FS i selvbetjeningsløsningen.</p>
<ol>
<li>Gå til applikasjonen som har abonnert på FS-meldinger</li>
<li>Verifiser at <em>system-MILJØ-fs</em> ligger under <em>Godkjente abonnement</em> under <em>Abonnere</em></li>
<li>Følg lenka til <em>RabbitMQ sitt brukergrensesnitt</em> under <em>Applikasjonsinfo</em></li>
<li>Logg på med applikasjonens brukernavn og passord</li>
<li>Ved nedtrekksmenyen <em>Virtual host</em> øverst til høyre, velg <em>system-MILJØ-fs</em></li>
<li>Finn køen med navn <em>from_system-MILJØ-fs</em>. Under <em>Messages</em> kan man se antall meldinger som ligger i kø. Denne skal øke om det gjøres endringer i FS, med noe forsinkelse (0-5 minutter).</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/sikt-no/docs/tree/master/docs/datadeling/teknisk-plattform/api/fs.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-02-02T11:59:22.000Z">Feb 2, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/datadeling/teknisk-plattform/api/digdir"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Digdir Folkeregisteret og KRR</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/datadeling/teknisk-plattform/api/inspera"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inspera</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#om-api-et" class="table-of-contents__link toc-highlight">Om API-et</a></li><li><a href="#miljøer" class="table-of-contents__link toc-highlight">Miljøer</a></li><li><a href="#oppsett-av-fs-api" class="table-of-contents__link toc-highlight">Oppsett av FS-API</a><ul><li><a href="#tilgang-til-fs-api" class="table-of-contents__link toc-highlight">Tilgang til FS-API</a></li><li><a href="#konfigurasjon-av-fs-api-i-gravitee" class="table-of-contents__link toc-highlight">Konfigurasjon av FS-API i Gravitee</a></li><li><a href="#test-av-api-et" class="table-of-contents__link toc-highlight">Test av API-et</a></li><li><a href="#grunnoppsett-for-fs-gemini-api" class="table-of-contents__link toc-highlight">Grunnoppsett for FS Gemini API</a></li></ul></li><li><a href="#konfigurasjon-av-meldingskø" class="table-of-contents__link toc-highlight">Konfigurasjon av meldingskø</a><ul><li><a href="#opprette-applikasjonen-i-selvbetjeningsportalen" class="table-of-contents__link toc-highlight">Opprette applikasjonen i selvbetjeningsportalen</a></li><li><a href="#konfigurasjon-av-meldingskø-i-fs" class="table-of-contents__link toc-highlight">Konfigurasjon av meldingskø i FS</a></li><li><a href="#test-av-meldingskøoppsett" class="table-of-contents__link toc-highlight">Test av meldingskøoppsett</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Sikt Docs</div><ul class="footer__items clean-list"><li class="footer__item"><p>Teknisk dokumentasjon på fellesløsningene Sikt leverer for utdanning og forskning.</p></li></ul></div><div class="col footer__col"><div class="footer__title">Hvordan bidra?</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-directly-from-the-web-browser" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet fra nettleseren</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-locally" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet lokalt</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Opprette en issue i GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">Kontaktinformasjon</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://sikt.no/kontakt-oss" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kontakt oss</a></li><li class="footer__item"><a href="https://sikt.no/om-sikt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Om Sikt</a></li><li class="footer__item"><a href="https://sikt.no/personvernerklaering" target="_blank" rel="noopener noreferrer" class="footer__link-item">Personvernerklæring</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="104" height="28"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="104" height="28"></div><div class="footer__copyright">Copyright © 2024 Sikt – Kunnskapssektorens tjenesteleverandør</div></div></div></footer></div>
</body>
</html>