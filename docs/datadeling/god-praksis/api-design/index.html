<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-datadeling/god-praksis/api-design" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">API-design | Sikt teknisk dokumentasjon</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.sikt.no/docs/datadeling/god-praksis/api-design/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API-design | Sikt teknisk dokumentasjon"><meta data-rh="true" name="description" content="Anbefalinger rundt utforming av API. Både for deg som utvikler en tjeneste som"><meta data-rh="true" property="og:description" content="Anbefalinger rundt utforming av API. Både for deg som utvikler en tjeneste som"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.sikt.no/docs/datadeling/god-praksis/api-design/"><link data-rh="true" rel="alternate" href="https://docs.sikt.no/docs/datadeling/god-praksis/api-design/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.sikt.no/docs/datadeling/god-praksis/api-design/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a715a662.css">
<script src="/assets/js/runtime~main.61d11b71.js" defer="defer"></script>
<script src="/assets/js/main.e7d3f097.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/sikt_logo.svg" alt="Sikt logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/sikt_logo_white.svg" alt="Sikt logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">teknisk dokumentasjon</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/datadeling/">Datadeling</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/">Fellestjeneste for Datadeling (IntArk)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/om/">Hva er Fellestjenesten for Datadeling (IntArk)?</a><button aria-label="Expand sidebar category &#x27;Hva er Fellestjenesten for Datadeling (IntArk)?&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/teknisk-plattform/">IntArk sin tekniske plattform</a><button aria-label="Expand sidebar category &#x27;IntArk sin tekniske plattform&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/begreper/">Begreper i IntArk</a><button aria-label="Expand sidebar category &#x27;Begreper i IntArk&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/erfaringer/">Erfaringer fra bruk av IntArk</a><button aria-label="Expand sidebar category &#x27;Erfaringer fra bruk av IntArk&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/faq">Spørsmål og svar</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/datadeling/god-praksis/">God praksis i fellestjenesten for Datadeling</a><button aria-label="Collapse sidebar category &#x27;God praksis i fellestjenesten for Datadeling&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/datadeling/god-praksis/api-design/">API-design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/god-praksis/bruk-av-webservice">Anbefalinger rundt Webservice</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/datadeling/god-praksis/informasjonsforvaltning/api-tilganger">informasjonsforvaltning</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/god-praksis/integrasjonsmonster/">Integrasjonsmønstre i fellestjenesten for Datadeling</a><button aria-label="Expand sidebar category &#x27;Integrasjonsmønstre i fellestjenesten for Datadeling&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/god-praksis/notifikasjonsdesign/">Hvordan designe dine notifikasjoner</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/kode">Kode som bruker IntArk</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/datadeling/malgrupper/anskaffer/">malgrupper</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/prinsippene">Integrasjonsprinsippene for IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/styringsregler">Styringsreglene til IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datadeling/unntak">Unntakshåndtering</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/datadeling/veiledere/">Veiledere i IntArk</a><button aria-label="Expand sidebar category &#x27;Veiledere i IntArk&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Datadeling</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/datadeling/god-praksis/"><span itemprop="name">God praksis i fellestjenesten for Datadeling</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">API-design</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>API-design</h1></header><p>Anbefalinger rundt utforming av API. Både for deg som utvikler en tjeneste som
skal dele data, og deg som skal anskaffe en tjeneste.</p>
<p>Det er ikke enkelt å lage et godt API-design. Du trenger ofte noen iterasjoner
før du har et API som er generelt og fungerer godt for alle konsumenter, og som
følger institusjonens, og sektorens, behov. For lite tid brukt på designet kan
føre til uheldige valg, som kan gi ulemper i lang tid fremover.</p>
<p>En vanlig fallgruve er å ikke involvere konsumentene i diskusjonen. Brukerne av
API-et vil kunne gi nyttige tilbakemeldinger for å gjøre API-et brukbart og
forståelig. En annen fallgruve er å bare involvere en konsument i diskusjonen.
Det er vanskelig å designe noe generelt nok.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prinsipper-for-godt-api-design">Prinsipper for godt API-design<a class="hash-link" aria-label="Direct link to Prinsipper for godt API-design" title="Direct link to Prinsipper for godt API-design" href="/docs/datadeling/god-praksis/api-design/#prinsipper-for-godt-api-design">​</a></h2>
<p>Utformingen av API bør følge
<a href="/docs/datadeling/prinsippene">integrasjonsprinsippene</a>, som blant annet sier
at du bør ha et åpent grensesnitt og det bør være så løst koblet som mulig.
Dette følger også Digitaliseringsdirektoratets føringer, blant annet at data
skal deles <em>som de er</em>, og ikke tilpasset enkelte konsumenter.</p>
<p>Andre anbefalinger:</p>
<ul>
<li>
<p><strong>Brukerorientert</strong>: Ha i bakhodet at brukernes behov kan endre seg raskt, og
at vi også derfor bør kunne endre tjenester og funksjonalitet raskt.
Endringsdyktighet kan fort være viktigere enn for eksempel hvor effektiv en
integrasjon er.</p>
</li>
<li>
<p><strong>Tjenesteorientert</strong>: Bruk så løse koblinger som mulig, som vil si å gjøre
det så enkelt som mulig å bytte ut tjenester på begge sider av en integrasjon.
For eksempel:</p>
<ul>
<li>Bruk API-standarder, der det finnes</li>
<li>Bruk bransjestandarder, for eksempel RESTful</li>
<li>Hold API-et på funksjonelt nivå, og unngå systemspesifikke detaljer.</li>
<li>Bruk felles semantikk, hvis det finnes.</li>
<li>Unngå skreddersøm for en enkelt konsument.</li>
</ul>
</li>
<li>
<p><strong>Tilgjengelig</strong>: Lag et åpent grensesnitt, som vil si at spesifikasjonen av
ditt API må være fritt tilgjengelig, dokumentert og leverandøruavhengig.</p>
</li>
<li>
<p><strong>Oversiktlig</strong>: Registrer ditt API i din institusjons API-katalog, og
dokumenter den. Du bør som minimum følge
<a href="https://www.openapis.org/" target="_blank" rel="noopener noreferrer">OpenAPI-spesifikasjonen</a> (swagger).</p>
</li>
<li>
<p><strong>Etterrettelig:</strong> Konsumenter må snakke med ditt API via din institusjons
API gateway. Dette gjør at institusjonen får samlet oversikt over dataflyt, og
har kontroll og kan for eksempel sperre tilganger ved behov. I praksis betyr
det at din WS bør støtte autentiseringsmekanismene som er tilgjengelig i
fellestjenesten.</p>
</li>
<li>
<p><strong>Fleksibel</strong>: Unntak fra prinsipper og anbefalinger er tillatt, men må
begrunnes. Det kan for eksempel bli vurdert å ikke være hensiktsmessig å
utvikle et nytt API hvis en liten tjeneste har et proprietært API som fungerer
greit nok. Vurderingen må gjøres med hensyn på institusjonen og sektoren som
helhet, og ikke bare basert på den enkelte tjenesten.</p>
</li>
<li>
<p><strong>Effektiv</strong>: Konsumenter bør hente data direkte fra det institusjonen
definerer som kildesystem, og ikke via andre tjenester. Unntaket er velbrukte
katalogtjenester. Noen datasett kan være ønskelig å kombinere for mange
konsumenter, som kan vere nyttig å sammenstille sentralt. Det er også lite
effektivt om en institusjon har to ulike kildesystem for omtrent samme data.</p>
</li>
</ul>
<p>Sjekkliste for valg av typen API:</p>
<ol>
<li>
<p>Finnes det en API-standard for datasettet du skal tilby? Prioriter å bruke
denne! Standardisering er veldig nyttig for løse koblinger, og gjør det
enklere å bytte systemer, på begge sider av integrasjonen.</p>
</li>
<li>
<p>Bruk bransjestandarder, der det finnes. For eksempel bruk av RESTful eller
GraphQL. Se mer om anbefaling om <a href="/docs/datadeling/god-praksis/bruk-av-webservice">Web
services</a>.</p>
</li>
<li>
<p>Finnes det lignende data i andre kildesystemer? Det bør i så fall først
avklares hvilken tjeneste som er kildesystem for hvilke data.</p>
</li>
<li>
<p>Bruk lignende semantikk som i tilsvarende datasett andre steder, hvis mulig.
Du anbefales å gjenbruke eksisterende datasett fra
<a href="https://data.norge.no" target="_blank" rel="noopener noreferrer">data.norge.no</a>. Hvis det ikke finnes, kan du med
fordel publisere ditt eget definerte datasett der.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="funksjonelt-api">Funksjonelt API<a class="hash-link" aria-label="Direct link to Funksjonelt API" title="Direct link to Funksjonelt API" href="/docs/datadeling/god-praksis/api-design/#funksjonelt-api">​</a></h2>
<p>Hold API på funksjonelt nivå så langt det er mulig. Unngå for eksempel å
eksponere interne systemdetaljer i API-et, for eksempel hvilke databasetabeller
du må snakke med. Konsumenter ønsker å fokusere på dataene, uten å måtte ha
kunnskap om interne detaljer i systemet ditt.</p>
<p>Se mer om funksjonelt API i <a href="/docs/datadeling/god-praksis/bruk-av-webservice">anbefaling om bruk av
webservices</a>.</p>
<p>Det er ofte vanskelig å klare å designe et API som er uavhengig av tekniske
valg i en tjeneste. Det kan være en fordel med en dialog med ulike konsumenter,
og se på tilsvarende datamodeller eller API-et til lignende tjenester. Det kan
være nyttig å designe en første versjon av et API før valg av tjeneste bak,
siden en unngår fallgruver i tekniske valg.</p>
<p>RESTful gir ofte en godt grunnlag for et funksjonelt API, men mange fallgruver
gjenstår.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="datasett">Datasett<a class="hash-link" aria-label="Direct link to Datasett" title="Direct link to Datasett" href="/docs/datadeling/god-praksis/api-design/#datasett">​</a></h2>
<p>Det er forskjell på et API og et datasett. Begge deler bør designes og
dokumenteres ved innføring av en ny datakilde.</p>
<p>For et API må tekniske detaljer dokumenteres, for eksempel
autentiseringsmetoder og endepunkt. For et datasett må begreper defineres og
dataelementer beskrives.</p>
<p>Datasett kan med fordel beskrives i API-katalogen. Dagens API manager støtter
ikke statens anbefalte format for beskrivelser av datasett (DCAT), men kan
beskrives i et dokument, eller med en lenke til beskrivelsen.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="personopplysninger">Personopplysninger<a class="hash-link" aria-label="Direct link to Personopplysninger" title="Direct link to Personopplysninger" href="/docs/datadeling/god-praksis/api-design/#personopplysninger">​</a></h2>
<p>Mange tjenester behandler personopplysninger. Da det er egne regler og lover
som påvirker hvordan disse kan deles, anbefales det å skille personopplysninger
fra andre data. Ved å holde dette adskilt blir det enklere å dele data som kan
deles.</p>
<p>Et eksempel: Et API gir oversikt over institusjonens organisasjonsenheter.
Dette kan enkelt deles ut med hvem som helst, siden det er offentlige data.
Men, hvis dette API-et i samme utplukk også lister ut hvilke ansatte og
studenter som er aktiv på hver enhet, blir det straks mer utfordrende å gi
tilgang.</p>
<p>Å dele personopplysninger til konsumenter utenfor egen institusjon krever blant
annet en databehandleravtale. Å dele personopplysninger internt hos
institusjonen kan kreve en oppdatering av hjemmelsgrunnlaget for
personpplysningene - følger datadelingen opprinnelig formål og hjemmel for den
nye behandlingen?</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="anskaffelse-av-tjenester">Anskaffelse av tjenester<a class="hash-link" aria-label="Direct link to Anskaffelse av tjenester" title="Direct link to Anskaffelse av tjenester" href="/docs/datadeling/god-praksis/api-design/#anskaffelse-av-tjenester">​</a></h2>
<p>Også ved anskaffelse av IT-tjenester gjelder anbefalingene rundt deling av
data, på samme måte som ved egen utvikling. Alle IT-tjenester med data som kan
eller bør deles er anbefalt å ha et API som følger anbefalingene fra
fellestjenesten.</p>
<p>Ofte kommer innkjøpte IT-tjenester med et API, men det er ikke sikkert dette
gir gevinstene du ønsker.</p>
<ul>
<li>
<p>Er API-et godt nok dokumentert?</p>
</li>
<li>
<p>Følger det prinsippet om løse koblinger? Hvor lukket og leverandørspesifikt
er API-et? Kan andre konsumenter bruke det? Følger det noen standarder?</p>
</li>
<li>
<p>Kan institusjonen få inn endringer i API-et?</p>
</li>
<li>
<p>Hva er lovnaden til ytelse og oppetid? Hvor mange konsumenter ville kunne
brukt API-et samtidig?</p>
</li>
</ul>
<p>I anbud er det nyttig å legge inn krav til datadelingen, spesielt krav til API.
For viktige tjenester kan det også være nyttig å definere hvilket API
leverandøren må oppfylle, og hvis det ikke finnes en (bransje)standard til og
med designe API-et på forhånd. Dette kan gjøre datadelingen enklere etter at
IT-tjenesten er kjøpt inn.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="versjonering">Versjonering<a class="hash-link" aria-label="Direct link to Versjonering" title="Direct link to Versjonering" href="/docs/datadeling/god-praksis/api-design/#versjonering">​</a></h2>
<p>Konsumenter trenger forutsigbarhet. Når et API lanseres, bør konsumenter
forvente at det fungerer i lang tid før konsumenten må gjøre endringer.
Anbefalingen er som regel at en versjon av et API bør støttes i <strong>minst seks
måneder</strong>.</p>
<p>Dette gjør at versjonering bør vere med i designet av et API. Hvordan skal
tjenesten din støtte å tilgjengeliggjøre data både i et API for eksisterende
konsumenter og en nyere versjon av API-et?</p>
<p>I RESTfulle API løses dette ofte med å legge på versjonen som del av stien til
endepunktet. Noen eksempler:</p>
<p>/v1/persons/ola
/v2/persons/ola/contactinfo</p>
<p>For datatilbydere som også støtter notifikasjoner, bør dette også reflekteres i
meldingene. Hvilken versjon av API-et skal notifikasjoner refere til? Kan/bør
tjenesten støtte å sende ut en notifikasjon per aktive versjon av API-et?</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sjekkliste-for-api">Sjekkliste for API<a class="hash-link" aria-label="Direct link to Sjekkliste for API" title="Direct link to Sjekkliste for API" href="/docs/datadeling/god-praksis/api-design/#sjekkliste-for-api">​</a></h2>
<p>Hvis du designer et API:</p>
<ul>
<li>Er API-et på funksjonelt nok nivå?</li>
<li>Følger API-et prinsippene til RESTful?</li>
<li>Inneholder API teknisk terminologi som egentlig burde vært systeminterne?</li>
<li>Trenger konsumenter å kjenne til interne detaljer om systemet bak for å kunne bruke API-et?</li>
<li>Må du endre på API-et hvis du gjør endringer i tjenestens datamodell?</li>
<li>Klarer du å unngå å eksponere personpplysninger, og likevel klare å
tilgjengeliggjøre andre opplysninger?</li>
<li>Har du dokumentert ditt API etter <a href="https://www.openapis.org/" target="_blank" rel="noopener noreferrer">OpenAPI-spesifikasjonen</a> (swagger)?</li>
<li>Har du registrert API-et ditt i institusjoens API-katalog?</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/sikt-no/docs/tree/master/docs/datadeling/god-praksis/api-design.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-08-14T13:28:38.000Z" itemprop="dateModified">Aug 14, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/datadeling/god-praksis/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">God praksis i fellestjenesten for Datadeling</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/datadeling/god-praksis/bruk-av-webservice"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Anbefalinger rundt Webservice</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/datadeling/god-praksis/api-design/#prinsipper-for-godt-api-design">Prinsipper for godt API-design</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/datadeling/god-praksis/api-design/#funksjonelt-api">Funksjonelt API</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/datadeling/god-praksis/api-design/#datasett">Datasett</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/datadeling/god-praksis/api-design/#personopplysninger">Personopplysninger</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/datadeling/god-praksis/api-design/#anskaffelse-av-tjenester">Anskaffelse av tjenester</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/datadeling/god-praksis/api-design/#versjonering">Versjonering</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/datadeling/god-praksis/api-design/#sjekkliste-for-api">Sjekkliste for API</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Sikt Docs</div><ul class="footer__items clean-list"><li class="footer__item"><p>Teknisk dokumentasjon på fellesløsningene Sikt leverer for utdanning og forskning.</p></li></ul></div><div class="col footer__col"><div class="footer__title">Hvordan bidra?</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-directly-from-the-web-browser" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet fra nettleseren</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-locally" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet lokalt</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Opprette en issue i GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">Kontaktinformasjon</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://sikt.no/kontakt-oss" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kontakt oss</a></li><li class="footer__item"><a href="https://sikt.no/om-sikt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Om Sikt</a></li><li class="footer__item"><a href="https://sikt.no/personvernerklaering" target="_blank" rel="noopener noreferrer" class="footer__link-item">Personvernerklæring</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="104" height="28"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="104" height="28"></div><div class="footer__copyright">Copyright © 2024 Sikt – Kunnskapssektorens tjenesteleverandør</div></div></div></footer></div>
</body>
</html>