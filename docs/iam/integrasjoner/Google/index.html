<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-iam/integrasjoner/Google" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Google | Sikt teknisk dokumentasjon</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.sikt.no/docs/iam/integrasjoner/Google"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Google | Sikt teknisk dokumentasjon"><meta data-rh="true" name="description" content="1. Description"><meta data-rh="true" property="og:description" content="1. Description"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.sikt.no/docs/iam/integrasjoner/Google"><link data-rh="true" rel="alternate" href="https://docs.sikt.no/docs/iam/integrasjoner/Google" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.sikt.no/docs/iam/integrasjoner/Google" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Google","item":"https://docs.sikt.no/docs/iam/integrasjoner/Google"}]}</script><link rel="stylesheet" href="/assets/css/styles.8baf51e6.css">
<script src="/assets/js/runtime~main.6e7781b2.js" defer="defer"></script>
<script src="/assets/js/main.23866401.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/sikt_logo.svg"><link rel="preload" as="image" href="/img/sikt_logo_white.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/sikt_logo.svg" alt="Sikt logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/sikt_logo_white.svg" alt="Sikt logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">teknisk dokumentasjon</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iam/"><span title="Identitets og tilgangsstyring (Felles IAM)" class="linkLabel_WmDU">Identitets og tilgangsstyring (Felles IAM)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iam/gevinster"><span title="Gevinster ved Felles IAM" class="linkLabel_WmDU">Gevinster ved Felles IAM</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/iam/ansvar"><span title="Prosessinformasjon" class="categoryLinkLabel_W154">Prosessinformasjon</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/iam/produkt"><span title="Produktinformasjon" class="categoryLinkLabel_W154">Produktinformasjon</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/iam/kontoaktivering"><span title="Brukerinformasjon" class="categoryLinkLabel_W154">Brukerinformasjon</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iam/livssyklus"><span title="Livssyklus for identitet og tilgang" class="linkLabel_WmDU">Livssyklus for identitet og tilgang</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iam/brukernavn"><span title="Brukernavn og bruker-ID" class="linkLabel_WmDU">Brukernavn og bruker-ID</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iam/virksomhetsroller"><span title="Virksomhetsroller" class="linkLabel_WmDU">Virksomhetsroller</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/iam/deputy"><span title="Funksjonsbeskrivelser" class="categoryLinkLabel_W154">Funksjonsbeskrivelser</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/iam/integrasjoner/Active Directory"><span title="Integrasjoner" class="categoryLinkLabel_W154">Integrasjoner</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Active Directory"><span title="Active Directory" class="linkLabel_WmDU">Active Directory</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Alma"><span title="Alma" class="linkLabel_WmDU">Alma</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Apex"><span title="Apex" class="linkLabel_WmDU">Apex</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Berghansen"><span title="Berg Hansen" class="linkLabel_WmDU">Berg Hansen</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Berg_Hansen_deprecated"><span title="Berg Hansen (deprecated)" class="linkLabel_WmDU">Berg Hansen (deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Cristin"><span title="Cristin" class="linkLabel_WmDU">Cristin</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Canvas"><span title="Canvas" class="linkLabel_WmDU">Canvas</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/iam/integrasjoner/Google"><span title="Google" class="linkLabel_WmDU">Google</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/GREG"><span title="GREG" class="linkLabel_WmDU">GREG</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/IknowBase"><span title="IknowBase" class="linkLabel_WmDU">IknowBase</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/inspera"><span title="Inspera" class="linkLabel_WmDU">Inspera</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Integra"><span title="Integra" class="linkLabel_WmDU">Integra</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Lenel API"><span title="Lenel API" class="linkLabel_WmDU">Lenel API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Lenel DB"><span title="Lenel DB" class="linkLabel_WmDU">Lenel DB</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Officephone"><span title="OfficePhone" class="linkLabel_WmDU">OfficePhone</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Pureservice"><span title="PureService" class="linkLabel_WmDU">PureService</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Salto"><span title="Salto" class="linkLabel_WmDU">Salto</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Servicenow"><span title="ServiceNow" class="linkLabel_WmDU">ServiceNow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/TopDesk"><span title="TopDesk" class="linkLabel_WmDU">TopDesk</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Wiseflow"><span title="WISEflow" class="linkLabel_WmDU">WISEflow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Writebacktodfo"><span title="WritebackToDFO" class="linkLabel_WmDU">WritebackToDFO</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iam/integrasjoner/Writebacktofs"><span title="WritebackToFS" class="linkLabel_WmDU">WritebackToFS</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/iam/versjoner/g4"><span title="Versjoner" class="categoryLinkLabel_W154">Versjoner</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/iam/referanser"><span title="Referanser" class="linkLabel_WmDU">Referanser</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Integrasjoner</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Google</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Google</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-description">1. Description<a href="#1-description" class="hash-link" aria-label="Direct link to 1. Description" title="Direct link to 1. Description" translate="no">​</a></h2>
<p>The <strong>PortalLdapToGoogle</strong> actionset synchronizes user accounts from RapidIdentity&#x27;s Portal LDAP directory to Google Workspace based on entitlement assignments. It performs full lifecycle management including user creation, updates, and deletion while maintaining bidirectional tracking of provisioning status.</p>
<p><strong>Version</strong>: v4.0</p>
<p>The actionset determines which users to provision by checking for the presence of &quot;google&quot; in either <code>idautoPersonAppRoles2</code> (birthright entitlements) or <code>idautoPersonAppRoles6</code> (requested system entitlements). If a user has <code>idautoDisabled</code> set to &quot;TRUE&quot;, the entitlement is automatically revoked regardless of other settings.</p>
<p>Based on the user&#x27;s current state in both systems, the actionset determines the appropriate operation:</p>
<ul>
<li class=""><strong>CREATE</strong>: User doesn&#x27;t exist in Google AND is entitled to Google</li>
<li class=""><strong>UPDATE</strong>: User exists in Google AND is entitled AND has attribute changes</li>
<li class=""><strong>UNCHANGED</strong>: User exists AND is entitled AND no changes detected (still updates Portal LDAP tracking)</li>
<li class=""><strong>DELETE</strong>: User exists in Google AND is NOT entitled</li>
</ul>
<p>After successful provisioning operations, the actionset updates Portal LDAP to track provisioning status. If the entitlement came from birthright (<code>idautoPersonAppRoles2</code>), it adds &quot;google&quot; to <code>idautoPersonAppRoles5</code>. If it came from requested entitlements (<code>idautoPersonAppRoles6</code>), it adds &quot;google&quot; to <code>idautoPersonAppRoles8</code>. This bidirectional tracking ensures RapidIdentity maintains awareness of which users are actively provisioned in Google Workspace.</p>
<p>For efficiency, the actionset uses OpenLDAP&#x27;s change log mechanism with cookie files to process only records that have changed since the last run, rather than scanning the entire directory each time.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-input-parameters">2. Input Parameters<a href="#2-input-parameters" class="hash-link" aria-label="Direct link to 2. Input Parameters" title="Direct link to 2. Input Parameters" translate="no">​</a></h2>
<p>The actionset accepts 5 input parameters to control its behavior:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="key_field-optional"><strong>key_field</strong> (optional)<a href="#key_field-optional" class="hash-link" aria-label="Direct link to key_field-optional" title="Direct link to key_field-optional" translate="no">​</a></h3>
<p>Specifies which LDAP attribute to use when looking up a specific user for targeted processing.</p>
<ul>
<li class=""><strong>Accepted values</strong>:<!-- -->
<ul>
<li class=""><code>&quot;username&quot;</code> - Maps to <code>idautoPersonSystem1ID</code></li>
<li class=""><code>&quot;uh-username&quot;</code> - Maps to <code>idautoPersonSAMAccountName</code></li>
<li class=""><code>&quot;idautoID&quot;</code> - Uses the value as-is</li>
</ul>
</li>
<li class=""><strong>Purpose</strong>: Enables targeted processing of a single user rather than batch processing all changed users</li>
<li class=""><strong>Use Case</strong>: Useful for testing, troubleshooting, or immediate provisioning of a specific user</li>
<li class=""><strong>Default</strong>: When not provided, the actionset processes users based on change log or full directory query</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="key_value-optional"><strong>key_value</strong> (optional)<a href="#key_value-optional" class="hash-link" aria-label="Direct link to key_value-optional" title="Direct link to key_value-optional" translate="no">​</a></h3>
<p>The specific value to search for when <code>key_field</code> is specified.</p>
<ul>
<li class=""><strong>Accepted values</strong>: String value matching the specified key field</li>
<li class=""><strong>Purpose</strong>: Works in conjunction with <code>key_field</code> to identify the target user</li>
<li class=""><strong>Example</strong>: If <code>key_field</code> is &quot;username&quot; and <code>key_value</code> is &quot;john.doe&quot;, the actionset will only process the user with <code>idautoPersonSystem1ID</code> = &quot;john.doe&quot;</li>
<li class=""><strong>Default</strong>: When not provided, targeted user lookup is not performed</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="log_only-required"><strong>log_only</strong> (required)<a href="#log_only-required" class="hash-link" aria-label="Direct link to log_only-required" title="Direct link to log_only-required" translate="no">​</a></h3>
<p>Enables dry-run mode where the actionset logs all operations it would perform without making actual changes.</p>
<ul>
<li class=""><strong>Accepted values</strong>:<!-- -->
<ul>
<li class=""><code>true</code> - Dry-run mode (log only)</li>
<li class=""><code>false</code> - Normal operation mode</li>
</ul>
</li>
<li class=""><strong>Purpose</strong>: Allows safe testing and validation of what the actionset will do before making actual changes to Google Workspace or Portal LDAP</li>
<li class=""><strong>Impact</strong>:<!-- -->
<ul>
<li class="">Changes which cookie file is used for change tracking</li>
<li class="">Prevents actual API calls to Google and Portal LDAP updates</li>
<li class="">Still performs all validation, transformation logic, and change detection</li>
<li class="">Logs detailed information about operations that would be performed</li>
</ul>
</li>
<li class=""><strong>Default</strong>: Must be explicitly set; typically use <code>true</code> for testing and <code>false</code> for production runs</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="process_total-optional"><strong>process_total</strong> (optional)<a href="#process_total-optional" class="hash-link" aria-label="Direct link to process_total-optional" title="Direct link to process_total-optional" translate="no">​</a></h3>
<p>Limits the number of users to process in a single execution.</p>
<ul>
<li class=""><strong>Accepted values</strong>: Positive integer</li>
<li class=""><strong>Purpose</strong>: Provides throttling capability to limit the scope of a single run</li>
<li class=""><strong>Use Case</strong>:<!-- -->
<ul>
<li class="">Testing with a small subset before full deployment</li>
<li class="">Spreading large provisioning jobs across multiple scheduled runs</li>
<li class="">Managing API rate limits or system load</li>
</ul>
</li>
<li class=""><strong>Default</strong>: When not provided, all eligible users are processed (limited only by change log or query results)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="process_all-optional"><strong>process_all</strong> (optional)<a href="#process_all-optional" class="hash-link" aria-label="Direct link to process_all-optional" title="Direct link to process_all-optional" translate="no">​</a></h3>
<p>Forces the actionset to process all users entitled to Google, bypassing the incremental change log.</p>
<ul>
<li class=""><strong>Accepted values</strong>:<!-- -->
<ul>
<li class=""><code>true</code> - Process all entitled users</li>
<li class=""><code>false</code> - Use incremental change log processing</li>
</ul>
</li>
<li class=""><strong>Purpose</strong>: Enables full synchronization runs rather than incremental updates</li>
<li class=""><strong>Use Case</strong>:<!-- -->
<ul>
<li class="">Initial provisioning to Google Workspace</li>
<li class="">Recovery after service disruptions</li>
<li class="">Validation that all entitled users are properly provisioned</li>
<li class="">Resolving synchronization drift between systems</li>
</ul>
</li>
<li class=""><strong>Default</strong>: When not provided or set to <code>false</code>, uses incremental processing via OpenLDAP change log</li>
<li class=""><strong>Note</strong>: Can be combined with <code>process_total</code> to process all users in manageable batches</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-attribute-mapping">3. Attribute Mapping<a href="#3-attribute-mapping" class="hash-link" aria-label="Direct link to 3. Attribute Mapping" title="Direct link to 3. Attribute Mapping" translate="no">​</a></h2>
<p>The following table shows how RapidIdentity (RI) attributes are mapped to Google Workspace attributes:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-direct-mappings">Core Direct Mappings<a href="#core-direct-mappings" class="hash-link" aria-label="Direct link to Core Direct Mappings" title="Direct link to Core Direct Mappings" translate="no">​</a></h3>
<table><thead><tr><th>RapidIdentity Attribute</th><th>Google Workspace Attribute</th><th>Notes</th></tr></thead><tbody><tr><td><code>idautoPersonSystem1ID</code></td><td><code>id</code>, <code>userName</code></td><td>Primary identifier; falls back to SAMAccountName if System1ID is null</td></tr><tr><td><code>idautoPersonSAMAccountName</code></td><td>Fallback for username</td><td>Used when System1ID is not set</td></tr><tr><td><code>idautoPersonSystem2ID</code></td><td><code>primaryEmail</code> (user&#x27;s primary Google email address)</td><td>Falls back to username@inst_domain if null</td></tr><tr><td><code>givenName</code></td><td><code>name.givenName</code></td><td>Overridden by PreferredName if present</td></tr><tr><td><code>sn</code></td><td><code>name.familyName</code></td><td>Overridden by PreferredLastName if present</td></tr><tr><td><code>idautoPersonPreferredName</code></td><td><code>name.givenName</code></td><td>Takes precedence over givenName when populated</td></tr><tr><td><code>idautoPersonPreferredLastName</code></td><td><code>name.familyName</code></td><td>Takes precedence over sn when populated</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="computed-and-transformed-attributes">Computed and Transformed Attributes<a href="#computed-and-transformed-attributes" class="hash-link" aria-label="Direct link to Computed and Transformed Attributes" title="Direct link to Computed and Transformed Attributes" translate="no">​</a></h3>
<p><strong>selectedUsername</strong>:</p>
<ul>
<li class="">Logic: Uses <code>idautoPersonSystem1ID</code> if populated; otherwise uses <code>idautoPersonSAMAccountName</code></li>
<li class="">Purpose: Determines the base identifier used across Google Workspace</li>
<li class="">Used for: <code>id</code>, <code>userName</code>, and email construction</li>
</ul>
<p><strong>selectedEmail</strong>:</p>
<ul>
<li class="">Logic: Uses <code>idautoPersonSystem2ID</code> if populated; otherwise constructs <code>selectedUsername + &quot;@&quot; + Global.inst_domain</code></li>
<li class="">Purpose: The user&#x27;s primary email address in Google Workspace</li>
<li class="">Used for: <code>primaryEmail</code> field and as an email alias with sendAsEmail capabilities</li>
<li class="">Note: This is typically the user&#x27;s institutional email address for continuity</li>
</ul>
<p><strong>primaryAffiliation</strong>:</p>
<ul>
<li class="">Determined by matching <code>idautoPersonAffiliation</code> against global affiliation lists:<!-- -->
<ul>
<li class="">If affiliation is in <code>Global.employeeAffiliations</code> → &quot;employee&quot;</li>
<li class="">If affiliation is in <code>Global.studentAffiliations</code> → &quot;student&quot;</li>
<li class="">If affiliation is in <code>Global.guestAffiliations</code> → &quot;guest&quot;</li>
</ul>
</li>
<li class="">Purpose: Drives organizational unit assignment and potential policy application</li>
</ul>
<p><strong>orgUnitPath</strong>:</p>
<ul>
<li class="">If primaryAffiliation == &quot;employee&quot; OR &quot;guest&quot; → <code>Global.googleOrgUnitPathAnsatt</code></li>
<li class="">Otherwise (student) → <code>Global.googleOrgUnitPathStudent</code></li>
<li class="">Note: Guest and employee sharing the same org unit path is configurable per institution&#x27;s organizational structure</li>
</ul>
<p><strong>password</strong> (create only):</p>
<ul>
<li class="">Generated using Portal&#x27;s default password policy</li>
<li class="">Hashed with SHA-512 algorithm</li>
<li class=""><code>hashFunction</code> set to &quot;crypt&quot; for Google compatibility</li>
<li class="">Only set during user creation; not updated during subsequent updates</li>
</ul>
<p><strong>languages</strong> (create only):</p>
<ul>
<li class="">Set to: <code>{&quot;languageCode&quot;: &quot;no&quot;, &quot;preference&quot;: &quot;preferred&quot;}</code></li>
<li class="">Norwegian language preference</li>
<li class="">Only set during initial user creation</li>
</ul>
<p><strong>Static Values</strong> (set for all records):</p>
<ul>
<li class=""><code>userNameDomain</code>: <code>Global.googleBaseUrl</code> (the Google Workspace domain)</li>
<li class=""><code>suspended</code>: <code>false</code> (users are created active)</li>
<li class=""><code>changePasswordAtNextLogin</code>: <code>false</code> (users are not forced to change password)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="entitlement-based-processing">Entitlement-Based Processing<a href="#entitlement-based-processing" class="hash-link" aria-label="Direct link to Entitlement-Based Processing" title="Direct link to Entitlement-Based Processing" translate="no">​</a></h3>
<p>The actionset determines eligibility for Google provisioning based on:</p>
<ul>
<li class="">
<p><strong>isEntitledToGoogle</strong> = TRUE if:</p>
<ul>
<li class="">&quot;google&quot; exists in <code>idautoPersonAppRoles2</code> (birthright system entitlements), OR</li>
<li class="">&quot;google&quot; exists in <code>idautoPersonAppRoles6</code> (requested system entitlements)</li>
<li class="">AND <code>idautoDisabled</code> is not &quot;TRUE&quot;</li>
</ul>
</li>
<li class="">
<p><strong>hasGoogleAsBirthright</strong> = TRUE if:</p>
<ul>
<li class="">&quot;google&quot; exists in <code>idautoPersonAppRoles2</code></li>
<li class="">Determines which AppRoles field to update for tracking (AppRoles5 vs AppRoles8)</li>
</ul>
</li>
</ul>
<p>After successful provisioning operations, the actionset updates Portal LDAP:</p>
<ul>
<li class="">If birthright entitlement: adds &quot;google&quot; to <code>idautoPersonAppRoles5</code></li>
<li class="">If requested entitlement: adds &quot;google&quot; to <code>idautoPersonAppRoles8</code></li>
<li class="">On delete: removes &quot;google&quot; from the appropriate AppRoles5 or AppRoles8 field</li>
</ul>
<p>This bidirectional tracking ensures RapidIdentity always knows which users are actively provisioned in Google Workspace versus merely entitled to access.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-workflow">4. Workflow<a href="#4-workflow" class="hash-link" aria-label="Direct link to 4. Workflow" title="Direct link to 4. Workflow" translate="no">​</a></h2>
<p>The actionset follows this high-level workflow:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="initialization">Initialization<a href="#initialization" class="hash-link" aria-label="Direct link to Initialization" title="Direct link to Initialization" translate="no">​</a></h3>
<ol>
<li class=""><strong>Initialize counters</strong> to track operations (totalAdd, totalUpdate, totalDelete, totalUnchanged, totalSkipped, totalAddFail, totalUpdateFail, totalDeleteFail, totalRenameFail)</li>
<li class=""><strong>Process input parameters</strong>:<!-- -->
<ul>
<li class="">Map <code>key_field</code> values to actual LDAP attribute names</li>
<li class="">Select appropriate cookie file based on <code>log_only</code> parameter</li>
</ul>
</li>
<li class=""><strong>Establish connections</strong> to required systems:<!-- -->
<ul>
<li class="">Portal LDAP (metadir connection) for reading user records</li>
<li class="">Portal Cloud API for password generation and policy access</li>
<li class="">Google Workspace (OAuth with domain impersonation using service account)</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="fetch-users-to-process">Fetch Users to Process<a href="#fetch-users-to-process" class="hash-link" aria-label="Direct link to Fetch Users to Process" title="Direct link to Fetch Users to Process" translate="no">​</a></h3>
<p>The query strategy depends on input parameters:</p>
<ul>
<li class=""><strong>If <code>process_all</code> is true</strong>: Query all users with &quot;(|(idautoPersonAppRoles2=google)(idautoPersonAppRoles6=google))&quot; from Portal LDAP base DN</li>
<li class=""><strong>Else if <code>key_field</code> and <code>key_value</code> are provided</strong>: Query specific user matching the key field and value</li>
<li class=""><strong>Otherwise</strong>: Use OpenLDAP change iterator with cookie file to process only records that have changed since the last run<!-- -->
<ul>
<li class="">Reads from the OpenLDAP change log DN</li>
<li class="">Filters by inetOrgPerson and idautoPerson object classes</li>
<li class="">Tracks progress using cookie file for incremental processing</li>
</ul>
</li>
</ul>
<p>After retrieving records, the actionset calls <code>FnFetchUsersToProcess</code> to refine the record set based on actionset-specific criteria.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="process-each-user">Process Each User<a href="#process-each-user" class="hash-link" aria-label="Direct link to Process Each User" title="Direct link to Process Each User" translate="no">​</a></h3>
<p>For each record in the query results:</p>
<ol>
<li class="">
<p><strong>Validation</strong>:</p>
<ul>
<li class="">Skip if <code>changetype</code> is &quot;delete&quot;</li>
<li class="">Skip if no <code>idautoID</code> present</li>
<li class="">Skip if no <code>idautoPersonSAMAccountName</code> (logs warning, increments totalSkipped)</li>
<li class="">Skip if no <code>idautoPersonAffiliation</code> (logs warning, increments totalSkipped)</li>
<li class="">Skip if already processed in current run (duplicate detection)</li>
<li class="">Stop processing if <code>process_total</code> limit reached</li>
</ul>
</li>
<li class="">
<p><strong>Data Preparation</strong>:</p>
<ul>
<li class="">Retrieve full LDAP record with all attributes</li>
<li class="">Determine <code>selectedUsername</code> (System1ID or SAMAccountName fallback)</li>
<li class="">Determine <code>selectedEmail</code> (System2ID or username@inst_domain fallback)</li>
<li class="">Parse entitlement arrays from AppRoles2, AppRoles5, AppRoles6, AppRoles8</li>
<li class="">Calculate <code>isEntitledToGoogle</code> based on entitlements and disabled status</li>
<li class="">Calculate <code>hasGoogleAsBirthright</code> to determine tracking field</li>
<li class="">Compute <code>primaryAffiliation</code> from affiliation code</li>
<li class="">Set <code>orgUnitPath</code> based on affiliation</li>
<li class="">Transform name fields (preferred names take precedence)</li>
</ul>
</li>
<li class="">
<p><strong>Check Existence</strong>:</p>
<ul>
<li class="">Query Google Workspace to check if user exists using minimal data fetch</li>
<li class="">Stores result for operation routing</li>
</ul>
</li>
<li class="">
<p><strong>Determine Operation</strong>:</p>
<p><strong>A. ERROR Path</strong> (if Google fetch failed):</p>
<ul>
<li class="">Log error details</li>
<li class="">Increment <code>totalUpdateFail</code></li>
<li class="">Call <code>ErrorHandler</code> for notification</li>
<li class="">Call <code>FnMarkUserForReprocessing</code> to retry in next run</li>
<li class="">Continue to next record</li>
</ul>
<p><strong>B. CREATE Path</strong> (if user doesn&#x27;t exist in Google):</p>
<ul>
<li class="">Skip if not entitled to Google (no provisioning needed)</li>
<li class="">Add create-only fields:<!-- -->
<ul>
<li class=""><code>languages</code> (Norwegian preferred)</li>
<li class=""><code>changePasswordAtNextLogin</code> (false)</li>
<li class=""><code>password</code> (generated and hashed)</li>
<li class="">Format <code>name</code> as nested object with givenName and familyName</li>
</ul>
</li>
<li class="">If <code>log_only</code>: Log intended operation without executing</li>
<li class="">Else: POST user to Google Admin Directory API</li>
<li class="">On success:<!-- -->
<ul>
<li class="">Log success, increment <code>totalAdd</code></li>
<li class="">Log audit event</li>
<li class="">If <code>selectedEmail</code> ≠ <code>primaryEmail</code>: Add as email alias with 3-second delay</li>
<li class="">Configure sendAsEmail with retry logic:<!-- -->
<ul>
<li class="">Create personal OAuth session impersonating the new user</li>
<li class="">Attempt to set sendAsEmail up to 3 times with 6-second delays between attempts</li>
<li class="">Retry mechanism accommodates Google&#x27;s propagation delay after alias creation</li>
</ul>
</li>
<li class="">Update Portal LDAP: Add &quot;google&quot; to AppRoles5 (birthright) or AppRoles8 (requested)</li>
</ul>
</li>
<li class="">On failure: Log error, increment <code>totalAddFail</code>, call ErrorHandler, mark for reprocessing</li>
</ul>
<p><strong>C. UPDATE Path</strong> (if user exists and is entitled):</p>
<ul>
<li class="">Copy existing Google record</li>
<li class="">Check if <code>selectedEmail</code> needs to be added as alias/sendAsEmail</li>
<li class="">Reuse existing <code>id</code> and <code>userName</code> from Google (don&#x27;t transform)</li>
<li class="">Call <code>FnHasRecordChanged</code> to detect attribute differences</li>
<li class="">If no changes detected:<!-- -->
<ul>
<li class="">Log as unchanged, increment <code>totalUnchanged</code></li>
<li class="">Still update Portal LDAP tracking if &quot;google&quot; not in AppRoles5/8 (ensures tracking consistency)</li>
</ul>
</li>
<li class="">If changes detected:<!-- -->
<ul>
<li class="">Filter record to only include changed fields</li>
<li class="">If <code>log_only</code>: Log intended changes</li>
<li class="">Else: Call <code>saveGoogleUser</code> to update Google Workspace</li>
<li class="">On success:<!-- -->
<ul>
<li class="">Log update details, increment <code>totalUpdate</code></li>
<li class="">Log audit event</li>
<li class="">Add alias/sendAsEmail if needed (same retry logic as create)</li>
<li class="">Update Portal LDAP tracking</li>
</ul>
</li>
<li class="">On failure: Log error, increment <code>totalUpdateFail</code>, call ErrorHandler, mark for reprocessing</li>
</ul>
</li>
</ul>
<p><strong>D. DELETE Path</strong> (if user exists but not entitled):</p>
<ul>
<li class="">If <code>log_only</code>: Log intended deletion</li>
<li class="">Else: Call <code>deleteGoogleUser</code> with user&#x27;s Google ID</li>
<li class="">On success:<!-- -->
<ul>
<li class="">Log deletion, increment <code>totalDelete</code></li>
<li class="">Log audit event</li>
<li class="">Update Portal LDAP: Remove &quot;google&quot; from AppRoles5 or AppRoles8</li>
</ul>
</li>
<li class="">On failure: Log error, increment <code>totalDeleteFail</code>, call ErrorHandler, mark for reprocessing</li>
</ul>
</li>
<li class="">
<p><strong>Error Handling</strong>:</p>
<ul>
<li class="">All failures call <code>ErrorHandler</code> actionset for centralized error notification</li>
<li class="">All failures call <code>FnMarkUserForReprocessing</code> to flag user for retry in next run</li>
<li class="">Audit events logged for all operations (both success and failure) with detailed extended properties</li>
<li class="">Failed operations don&#x27;t stop processing; actionset continues with remaining users</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cleanup">Cleanup<a href="#cleanup" class="hash-link" aria-label="Direct link to Cleanup" title="Direct link to Cleanup" translate="no">​</a></h3>
<ol>
<li class=""><strong>Close all connections</strong> to Portal LDAP and Portal Cloud API</li>
<li class=""><strong>Log summary statistics</strong>:<!-- -->
<ul>
<li class="">Total processed</li>
<li class="">Total unchanged</li>
<li class="">Total skipped</li>
<li class="">Total added, updated, renamed (counter exists but no rename logic), and deleted</li>
<li class="">Total failures for each operation type (add, update, rename, delete)</li>
</ul>
</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-dependencies">5. Dependencies<a href="#5-dependencies" class="hash-link" aria-label="Direct link to 5. Dependencies" title="Direct link to 5. Dependencies" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-configuration-variables">Global Configuration Variables<a href="#global-configuration-variables" class="hash-link" aria-label="Direct link to Global Configuration Variables" title="Direct link to Global Configuration Variables" translate="no">​</a></h3>
<p>The actionset references these Google Workspace-specific global configuration values:</p>
<ul>
<li class=""><code>Global.googleBaseUrl</code>: The Google Workspace domain (e.g., &quot;example.com&quot;)</li>
<li class=""><code>Global.googleUserID</code>: Service account email address used for OAuth domain-wide delegation and impersonation</li>
<li class=""><code>Global.googleOrgUnitPathAnsatt</code>: Organizational unit path for employees and guests (e.g., &quot;/Employees&quot;)</li>
<li class=""><code>Global.googleOrgUnitPathStudent</code>: Organizational unit path for students (e.g., &quot;/Students&quot;)</li>
<li class=""><code>Global.portalLdapToGoogleCookie</code>: File path for change tracking cookie in normal operation mode</li>
<li class=""><code>Global.portalLdapToGoogleLogOnlyCookie</code>: File path for change tracking cookie in log-only mode</li>
<li class=""><code>Global.employeeAffiliations</code>: Comma-separated list of affiliation codes that classify users as employees</li>
<li class=""><code>Global.studentAffiliations</code>: Comma-separated list of affiliation codes that classify users as students</li>
<li class=""><code>Global.guestAffiliations</code>: Comma-separated list of affiliation codes that classify users as guests</li>
<li class=""><code>Global.inst_domain</code>: Institution domain used for email address fallback (e.g., &quot;university.edu&quot;)</li>
</ul>
<p><strong>Note on Organizational Structure</strong>: The org unit path configuration is flexible and configurable per institution&#x27;s needs. The example mapping of guests and employees to the same org unit reflects one common organizational structure but can be adjusted based on policy requirements.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="required-permissions">Required Permissions<a href="#required-permissions" class="hash-link" aria-label="Direct link to Required Permissions" title="Direct link to Required Permissions" translate="no">​</a></h3>
<ul>
<li class=""><strong>Google Workspace</strong>: Domain-wide delegated service account with the following OAuth 2.0 scopes:<!-- -->
<ul>
<li class=""><code>https://www.googleapis.com/auth/admin.directory.user</code> - Create, read, update, and delete user accounts</li>
<li class=""><code>https://www.googleapis.com/auth/admin.directory.orgunit</code> - Read and assign organizational unit paths</li>
<li class=""><code>https://www.googleapis.com/auth/admin.directory.userschema</code> - Access user schema definitions</li>
<li class=""><code>https://www.googleapis.com/auth/gmail.settings.basic</code> - Configure Gmail settings</li>
<li class=""><code>https://www.googleapis.com/auth/gmail.settings.sharing</code> - Configure sendAs email settings</li>
<li class=""><code>https://www.googleapis.com/auth/userinfo.email</code> - Access user email information</li>
<li class=""><code>https://www.googleapis.com/auth/userinfo.profile</code> - Access user profile information</li>
</ul>
</li>
</ul>
<p><strong>Required Setup</strong>:</p>
<ul>
<li class="">Service account must be created in Google Cloud Console</li>
<li class="">Domain-wide delegation must be enabled for the service account</li>
<li class="">OAuth client ID must be authorized in Google Workspace Admin Console with the scopes listed above</li>
<li class="">Service account credentials must be configured in RapidIdentity Connect with an empty credential name (&quot; &quot;)</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="documentation-notes">Documentation Notes<a href="#documentation-notes" class="hash-link" aria-label="Direct link to Documentation Notes" title="Direct link to Documentation Notes" translate="no">​</a></h2>
<p><strong>Documentation Level</strong>: High-level, business-focused</p>
<p><strong>Key Business Features</strong>:</p>
<ul>
<li class=""><strong>Entitlement-Driven</strong>: Provisioning is controlled entirely by RapidIdentity entitlement attributes, ensuring consistent access governance</li>
<li class=""><strong>Bidirectional Tracking</strong>: Portal LDAP maintains awareness of provisioning status through AppRoles5/8 fields</li>
<li class=""><strong>Incremental Processing</strong>: Cookie-based change log processing ensures efficiency for large directories</li>
<li class=""><strong>Email Continuity</strong>: Institutional email addresses are maintained as primary emails in Google with proper alias and sendAsEmail configuration</li>
<li class=""><strong>Affiliation-Based Organization</strong>: Users are automatically placed in appropriate Google org units based on their institutional affiliation</li>
<li class=""><strong>Robust Error Handling</strong>: Failed operations are tracked, reported, and automatically queued for retry without stopping the entire batch</li>
<li class=""><strong>Safe Testing</strong>: Log-only mode enables validation and testing before production changes</li>
</ul>
<p><strong>Special Considerations</strong>:</p>
<ul>
<li class="">The sendAsEmail retry mechanism (3 attempts with 6-second delays) is necessary to accommodate Google&#x27;s backend propagation delays after alias creation</li>
<li class="">Password generation uses RapidIdentity Portal&#x27;s default password policy, ensuring consistency with organizational security standards</li>
<li class="">Users are created in an active state (<code>suspended: false</code>) and are not forced to change passwords on first login</li>
<li class="">The actionset processes deletes (deprovisions) based on entitlement removal, supporting full lifecycle management</li>
</ul>
<hr>
<p>AI Generated Documentation</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/sikt-no/docs/tree/master/docs/iam/integrasjoner/Google.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-02-17T13:58:15.000Z" itemprop="dateModified">Feb 17, 2026</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/iam/integrasjoner/Canvas"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Canvas</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/iam/integrasjoner/GREG"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GREG</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-description" class="table-of-contents__link toc-highlight">1. Description</a></li><li><a href="#2-input-parameters" class="table-of-contents__link toc-highlight">2. Input Parameters</a><ul><li><a href="#key_field-optional" class="table-of-contents__link toc-highlight"><strong>key_field</strong> (optional)</a></li><li><a href="#key_value-optional" class="table-of-contents__link toc-highlight"><strong>key_value</strong> (optional)</a></li><li><a href="#log_only-required" class="table-of-contents__link toc-highlight"><strong>log_only</strong> (required)</a></li><li><a href="#process_total-optional" class="table-of-contents__link toc-highlight"><strong>process_total</strong> (optional)</a></li><li><a href="#process_all-optional" class="table-of-contents__link toc-highlight"><strong>process_all</strong> (optional)</a></li></ul></li><li><a href="#3-attribute-mapping" class="table-of-contents__link toc-highlight">3. Attribute Mapping</a><ul><li><a href="#core-direct-mappings" class="table-of-contents__link toc-highlight">Core Direct Mappings</a></li><li><a href="#computed-and-transformed-attributes" class="table-of-contents__link toc-highlight">Computed and Transformed Attributes</a></li><li><a href="#entitlement-based-processing" class="table-of-contents__link toc-highlight">Entitlement-Based Processing</a></li></ul></li><li><a href="#4-workflow" class="table-of-contents__link toc-highlight">4. Workflow</a><ul><li><a href="#initialization" class="table-of-contents__link toc-highlight">Initialization</a></li><li><a href="#fetch-users-to-process" class="table-of-contents__link toc-highlight">Fetch Users to Process</a></li><li><a href="#process-each-user" class="table-of-contents__link toc-highlight">Process Each User</a></li><li><a href="#cleanup" class="table-of-contents__link toc-highlight">Cleanup</a></li></ul></li><li><a href="#5-dependencies" class="table-of-contents__link toc-highlight">5. Dependencies</a><ul><li><a href="#global-configuration-variables" class="table-of-contents__link toc-highlight">Global Configuration Variables</a></li><li><a href="#required-permissions" class="table-of-contents__link toc-highlight">Required Permissions</a></li></ul></li><li><a href="#documentation-notes" class="table-of-contents__link toc-highlight">Documentation Notes</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Sikt Docs</div><ul class="footer__items clean-list"><li class="footer__item"><p>Teknisk dokumentasjon på fellesløsningene Sikt leverer for utdanning og forskning.</p></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Hvordan bidra?</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-directly-from-the-web-browser" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet fra nettleseren</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs#editing-the-site-locally" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endre innholdet lokalt</a></li><li class="footer__item"><a href="https://github.com/sikt-no/docs/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Opprette en issue i GitHub</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Kontaktinformasjon</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://sikt.no/kontakt-oss" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kontakt oss</a></li><li class="footer__item"><a href="https://sikt.no/om-sikt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Om Sikt</a></li><li class="footer__item"><a href="https://sikt.no/personvernerklaering" target="_blank" rel="noopener noreferrer" class="footer__link-item">Personvernerklæring</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="104" height="28"><img src="/img/sikt_logo_white.svg" alt="Sikt Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="104" height="28"></div><div class="footer__copyright">Copyright © 2026 Sikt – Kunnskapssektorens tjenesteleverandør</div></div></div></footer></div>
</body>
</html>